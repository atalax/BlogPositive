
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <title>Style violations</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <style type="text/css">
    .highlight {
        background: #ffff00;
        color: #000000;
    }

    .linehead {
        background: #ddd;
        font-size: 1px;
    }

    .highlight .linehead {
        background: #ffff00;;
        color: #999;
        text-align: right;
        font-size: 8px;
    }

    .linenumber {
        background: #eee;
        color: #999;
        text-align: right;
    }

    td {
        border-spacing: 0px;
        border-width: 0px;
        padding: 0px
    }

    div.code pre {
        font-family: monospace;
    }

    .tooltip em {
        display:none;
    }

    .tooltip:hover {
        border: 0;
        position: relative;
        z-index: 500;
        text-decoration:none;
    }

    .tooltip:hover em {
        font-style: normal;
        display: block;
        position: absolute;
        top: 20px;
        left: -10px;
        padding: 5px;
        color: #000;
        border: 1px solid #bbb;
        background: #ffc;
        width: auto;
    }</style>
    </head>
    <body>
        <p><b>File list:</b><br>./BlogPositiveDelegate.h<br>./BlogPositiveSettings.cpp<br>./BlogPositiveSettings.h<br>./main.cpp<br>./API/BlogPositiveBlog.cpp<br>./API/BlogPositiveBlog.h<br>./API/BlogPositivePlugin.cpp<br>./API/BlogPositivePlugin.h<br>./API/BlogPositivePluginLoader.cpp<br>./API/BlogPositivePluginLoader.h<br>./API/BlogPositivePluginWindow.cpp<br>./API/BlogPositivePluginWindow.h<br>./API/BlogPositivePost.cpp<br>./API/BlogPositivePost.h<br>./BlogPositiveMain/BlogPositiveBlogListItem.cpp<br>./BlogPositiveMain/BlogPositiveBlogListItem.h<br>./BlogPositiveMain/BlogPositiveMainView.cpp<br>./BlogPositiveMain/BlogPositiveMainView.h<br>./BlogPositiveMain/BlogPositiveMainWindow.cpp<br>./BlogPositiveMain/BlogPositiveMainWindow.h<br>./BlogPositivePlugins/CreateWindowPlugin/CreateWindowPlugin.cpp<br>./BlogPositivePlugins/CreateWindowPlugin/CreateWindowPlugin.h<br>./BlogPositivePlugins/WordpressPlugin/WordpressPlugin.cpp<br>./BlogPositivePlugins/WordpressPlugin/WordpressPlugin.h<br>./BlogPositivePlugins/WordpressPlugin/xmlnode.cpp<br>./BlogPositivePlugins/WordpressPlugin/xmlnode.h<br>./BlogPositivePlugins/WordpressPlugin/XmlRpcWrapper.cpp<br>./BlogPositivePlugins/WordpressPlugin/XmlRpcWrapper.h<br>./BlogPositivePostEditor/BlogPositivePostEditorView.cpp<br>./BlogPositivePostEditor/BlogPositivePostEditorView.h<br>./BlogPositivePostEditor/BlogPositivePostEditorWindow.cpp<br>./BlogPositivePostEditor/BlogPositivePostEditorWindow.h<br>./BlogPositivePostList/BlogPositivePostListView.cpp<br>./BlogPositivePostList/BlogPositivePostListView.h<br>./BlogPositivePostList/BlogPositivePostListWindow.cpp<br>./BlogPositivePostList/BlogPositivePostListWindow.h<br>./Example/ExamplePlugin.cpp<br>./Example/ExamplePlugin.h<br></p><hr/><p><b>./BlogPositiveDelegate.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_DELEGATE_H<br><span class="linehead"> </span>#define BP_DELEGATE_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveDelegate<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	virtual void	OpenPostList(BlogPositiveBlog* blog) {};<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositiveSettings.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveSettings.h"<br><span class="linehead"> </span>#include &lt;Path.h&gt;<br><span class="linehead"> </span>#include &lt;File.h&gt;<br><span class="linehead"> </span>#include &lt;FindDirectory.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>const char* kSettingsFolder = "BlogPositive";<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveSettings::BlogPositiveSettings(const char* name)<br><span class="linehead"> </span>	: BMessage()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	settingsPath = new BPath();<br><span class="linehead"> </span>	find_directory(B_USER_SETTINGS_DIRECTORY, settingsPath);<br><span class="linehead"> </span>	settingsPath-&gt;Append(kSettingsFolder);<br><span class="linehead"> </span>	settingsPath-&gt;Append(name);<br><span class="linehead"> </span><br><span class="linehead"> </span>	BFile file(settingsPath-&gt;Path(), B_READ_ONLY);<br><span class="linehead"> </span>	if (file.InitCheck() == B_OK) {<br><span class="linehead"> </span>		Unflatten(&amp;file);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveSettings::Save()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BFile file(settingsPath-&gt;Path(),<br><span class="linehead"> </span>		B_CREATE_FILE | B_ERASE_FILE | B_WRITE_ONLY);<br><span class="linehead"> </span>	if (file.InitCheck() == B_OK) {<br><span class="linehead"> </span>		Flatten(&amp;file);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveSettings::SaveOther(BMessage* message, const char* settingsName)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BPath settingsPath;<br><span class="linehead"> </span>	find_directory(B_USER_SETTINGS_DIRECTORY, &amp;settingsPath);<br><span class="linehead"> </span>	settingsPath.Append(kSettingsFolder);<br><span class="linehead"> </span>	settingsPath.Append(settingsName);<br><span class="linehead"> </span><br><span class="linehead"> </span>	BFile file(settingsPath.Path(),<br><span class="linehead"> </span>		B_CREATE_FILE | B_ERASE_FILE | B_WRITE_ONLY);<br><span class="linehead"> </span>	if (file.InitCheck() == B_OK) {<br><span class="linehead"> </span>		message-&gt;Flatten(&amp;file);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositiveSettings.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_SETTINGS_H<br><span class="linehead"> </span>#define BP_SETTINGS_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BPath;<br><span class="linehead"> </span>class BlogPositiveSettings : public BMessage {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>				BlogPositiveSettings(const char* settingsName);<br><span class="linehead"> </span>	void		Save();<br><span class="linehead"> </span>	static void	SaveOther(BMessage* message, const char* settingsName);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BPath*		settingsPath;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif BP_SETTINGS_H<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./main.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Application.h&gt;<br><span class="linehead"> </span>#include &lt;Button.h&gt;<br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span>#include &lt;Window.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;stdio.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePluginLoader.h"<br><span class="linehead"> </span>#include "BlogPositiveMai<span class="highlight tooltip">n/B<em>Missing space after operator</em></span>logPositiveMainWindow.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#define USE_SHARED_WINDOW 0<br><span class="linehead"> </span><br><span class="linehead"> </span>#if USE_SHARED_WINDOW<br><span class="linehead"> </span>#define CLASS BlogPositiveSharedWindow<br><span class="linehead"> </span>#else<br><span class="linehead"> </span>#define CLASS BlogPositiveMainWindow<br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;cur<span class="highlight tooltip">l/c<em>Missing space after operator</em></span>url.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class HelloHaiku : public BApplication<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>			HelloHaiku();<br><span class="linehead"> </span>	void	ReadyToRun();<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>HelloHaiku::HelloHaiku()<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BApplication("applicatio<span class="highlight tooltip">n/x<em>Missing space after operator</em></span>-vnd.BlogPositive")<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BlogPositivePluginLoader::Initialize();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>HelloHaiku::ReadyToRun()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BWindow* window = new CLASS (BRect(100, 100, 600, 200));<br><span class="linehead"> </span>	window-&gt;Show();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int<br><span class="linehead"> </span>main()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	curl_global_init(CURL_GLOBAL_NOTHING);<br><span class="linehead"> </span><br><span class="linehead"> </span>	HelloHaiku app;<br><span class="linehead"> </span>	app.Run();<br><span class="linehead"> </span><br><span class="linehead"> </span>	curl_global_cleanup();<br><span class="linehead"> </span>	return 0;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositiveBlog.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveBlog.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;List.h&gt;<br><span class="linehead"> </span>#include &lt;ObjectList.h&gt;<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>const uint32 kBlogMessage = 'BPBL';<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveBlog::BlogPositiveBlog()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogList<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositiveBlog::DeserializeList(BMessage* message, const char* blogName)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BMessage msg;<br><span class="linehead"> </span>	BlogList* Listy = new BlogList();<br><span class="linehead"> </span>	int i = 0;<br><span class="linehead"> </span>	while (message-&gt;FindMessage(blogName, i++, &amp;msg) == B_OK)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		BlogPositiveBlog* blog = new BlogPositiveBlog(&amp;msg);<br><span class="linehead"> </span>		Listy-&gt;AddItem(blog);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	return Listy;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BMessage<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositiveBlog::SerializeList(BlogList* blist,<br><span class="linehead"> </span>	const char* blogName)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BMessage* bm = new BMessage();<br><span class="linehead"> </span>	for (int i = 0; i &lt; blist-&gt;CountItems(); i++)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		BMessage resultMessage;<br><span class="linehead"> </span>		blist-&gt;ItemAt(i)-&gt;Archive(&amp;resultMessage);<br><span class="linehead"> </span>		bm-&gt;AddMessage(blogName, &amp;resultMessage);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	return bm;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveBlog::SetName(const char* name)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fName = name;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositiveBlog::Name()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fName.String();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveBlog::SetAuthentication(const char* auth)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fAuthentication = auth;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositiveBlog::Authentication()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fAuthentication.String();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveBlog::SetBlogHandler(int32 blogHandler)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fBlogHandler = blogHandler;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>BlogPositiveBlog::BlogHandler()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fBlogHandler;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>status_t<br><span class="linehead"> </span>BlogPositiveBlog::Archive(BMessage* into, bool deep = true)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	into-&gt;AddString("name", fName);<br><span class="linehead"> </span>	into-&gt;AddString("auth", fAuthentication);<br><span class="linehead"> </span>	into-&gt;AddInt32("handler", fBlogHandler);<br><span class="linehead"> </span>	return B_OK;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveBlog::BlogPositiveBlog(BMessage* message)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fName = message-&gt;GetString("name", "");<br><span class="linehead"> </span>	fAuthentication = message-&gt;GetString("auth", "");<br><span class="linehead"> </span>	fBlogHandler = message-&gt;GetInt32("handler", 0);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveBlog::SetPlugin(BlogPositivePlugin* plugin)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fPlugin = plugin;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePlugin<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositiveBlog::Plugin()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fPlugin;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BString<br><span class="linehead"> </span>BlogPositiveBlog::NameString()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fName;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositiveBlog.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_BLOG_H<br><span class="linehead"> </span>#define BP_BLOG_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span>#include &lt;ObjectList.h&gt;<br><span class="linehead"> </span>#include &lt;List.h&gt;<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span>#include &lt;Archivable.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>typedef BObjectList&lt;BlogPositiveBlog&gt; BlogList;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositivePlugin;<br><span class="linehead"> </span>class BlogPositiveBlog : public BArchivable {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span><br><span class="linehead"> </span>	static BlogList*		DeserializeList(BMessage* message,<br><span class="linehead"> </span>								const char* blogName);<br><span class="linehead"> </span>	static BMessage*		SerializeList(BlogList* blist,<br><span class="linehead"> </span>								const char* blogName);<br><span class="linehead"> </span><br><span class="linehead"> </span>							BlogPositiveBlog();<br><span class="linehead"> </span>							BlogPositiveBlog(BMessage* from);<br><span class="linehead"> </span><br><span class="linehead"> </span>	void					SetName(const char* name);<br><span class="linehead"> </span>	const char*				Name();<br><span class="linehead"> </span><br><span class="linehead"> </span>	void					SetAuthentication(const char* authentication);<br><span class="linehead"> </span>	const char*				Authentication();<br><span class="linehead"> </span><br><span class="linehead"> </span>	void					SetBlogHandler(int32 blogHandler);<br><span class="linehead"> </span>	int32					BlogHandler();<br><span class="linehead"> </span><br><span class="linehead"> </span>	void					Unserialize(BMessage* message);<br><span class="linehead"> </span><br><span class="linehead"> </span>	void					SetPlugin(BlogPositivePlugin* plugin);<br><span class="linehead"> </span>	BlogPositivePlugin*		Plugin();<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString					NameString();<br><span class="linehead"> </span><br><span class="linehead"> </span>	status_t				Archive(BMessage* into, bool deep = true);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BString					fName;<br><span class="linehead"> </span>	BString					fAuthentication;<br><span class="linehead"> </span>	int32					fBlogHandler;<br><span class="linehead"> </span>	BlogPositivePlugin*		fPlugin;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositivePlugin.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br> 132<br> 133<br> 134<br> 135<br> 136<br> 137<br> 138<br> 139<br> 140<br> 141<br> 142<br> 143<br> 144<br> 145<br> 146<br> 147<br> 148<br> 149<br> 150<br> 151<br> 152<br> 153<br> 154<br> 155<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>#include "BlogPositivePlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;TextControl.h&gt;<br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayout.h&gt;<br><span class="linehead"> </span>#include &lt;LayoutBuilder.h&gt;<br><span class="linehead"> </span>#include &lt;Window.h&gt;<br><span class="linehead"> </span>#include &lt;List.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../BlogPositiveMai<span class="highlight tooltip">n/B<em>Missing space after operator</em></span>logPositiveMainView.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveCreateBlog : public BWindow {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>							BlogPositiveCreateBlog(BlogPositiveMainView* aView,<br><span class="linehead"> </span>								BlogPositivePlugin* pl);<br><span class="linehead"> </span>	void					SetBlogHandler(int32 blogHandler);<br><span class="linehead"> </span>	void					MessageReceived(BMessage* message);<br><span class="linehead"> </span>	int32					BlogHandler();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	int32 					fBlogHandler;<br><span class="linehead"> </span>	BTextControl*			fNameControl;<br><span class="linehead"> </span>	BTextControl*			fAuthControl;<br><span class="linehead"> </span>	BlogPositiveMainView*	fMainView;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveCreateBlog::BlogPositiveCreateBlog(BlogPositiveMainView* aView,<br><span class="linehead"> </span>	BlogPositivePlugin* pl)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BWindow(BRect(100, 100, 400, 190), "Create Blog",<br><span class="linehead"> </span>		B_MODAL_WINDOW_LOOK, B_NORMAL_WINDOW_FEEL, 0)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fNameControl = new BTextControl("NameControl", "Name: ",<br><span class="linehead"> </span>		"", new BMessage('CBFA'));<br><span class="linehead"> </span>	fAuthControl = new BTextControl("AuthControl", "Auth: ",<br><span class="linehead"> </span>		"", new BMessage('CBNB'));<br><span class="linehead"> </span>	SetLayout(new BGroupLayout(B_VERTICAL));<br><span class="linehead"> </span>	AddChild(fNameControl);<br><span class="linehead"> </span>	AddChild(fAuthControl);<br><span class="linehead"> </span><br><span class="linehead"> </span>	fMainView = aView;<br><span class="linehead"> </span><br><span class="linehead"> </span>	fNameControl-&gt;MakeFocus();<br><span class="linehead"> </span>	fBlogHandler = pl-&gt;MainHandler();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveCreateBlog::SetBlogHandler(int32 blogHandler)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fBlogHandler = blogHandler;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveCreateBlog::MessageReceived(BMessage* message)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	switch (message-&gt;what)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>	case 'CBFA':<br><span class="linehead"> </span>		fAuthControl-&gt;MakeFocus();<br><span class="linehead"> </span>		break;<br><span class="linehead"> </span>	case 'CBNB':<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		BlogPositiveSettings* settings = new BlogPositiveSettings("bloglist");<br><span class="linehead"> </span>		BlogList* lis = BlogPositiveBlog::DeserializeList(settings, "blogs");<br><span class="linehead"> </span>		BlogPositiveBlog* blog = new BlogPositiveBlog();<br><span class="linehead"> </span>		blog-&gt;SetName(fNameControl-&gt;Text());<br><span class="linehead"> </span>		blog-&gt;SetAuthentication(fAuthControl-&gt;Text());<br><span class="linehead"> </span>		blog-&gt;SetBlogHandler(fBlogHandler);<br><span class="linehead"> </span>		lis-&gt;AddItem(blog);<br><span class="linehead"> </span>		if (fMainView-&gt;LockLooper())<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			fMainView-&gt;Reload(lis);<br><span class="linehead"> </span>			fMainView-&gt;UnlockLooper();<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		BlogPositiveSettings::SaveOther(<br><span class="linehead"> </span>			BlogPositiveBlog::SerializeList(lis, "blogs"), "bloglist");<br><span class="linehead"> </span>		Hide();<br><span class="linehead"> </span>		break;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	default:<br><span class="linehead"> </span>		BWindow::MessageReceived(message);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>BlogPositivePlugin::Version()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return 0;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>BlogPositivePlugin::MainHandler()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return 'BACN';<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePlugin::Name()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return "Unknown";<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>BlogPositivePlugin::Type()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return kBlogPositiveBlogApi;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>bool<br><span class="linehead"> </span>BlogPositivePlugin::Supports(int32 Code)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return false;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>PostList<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePlugin::GetBlogPosts(BlogPositiveBlog* blog)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return new PostList();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePost<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePlugin::CreateNewPost(BlogPositiveBlog* blog, const char* name)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return NULL;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePlugin::RemovePost(BlogPositivePost* post)<br><span class="linehead"> </span>{<br><span class="linehead"> </span><br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePlugin::SavePost(BlogPositivePost* post)<br><span class="linehead"> </span>{<br><span class="linehead"> </span><br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePlugin::OpenNewBlogWindow(BlogPositiveMainView* aView)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	(new BlogPositiveCreateBlog(aView, this))-&gt;Show();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositivePlugin.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_PLUGIN_H<br><span class="linehead"> </span>#define BP_PLUGIN_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;ObjectList.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveBlog.h"<br><span class="linehead"> </span>#include "BlogPositivePost.h"<br><span class="linehead"> </span>#include "BlogPositivePluginWindow.h"<br><span class="linehead"> </span>#include "../BlogPositiveSettings.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#define kBlogPositiveBlogApi 1<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositivePlugin;<br><span class="linehead"> </span>typedef BObjectList&lt;BlogPositivePlugin&gt; PluginList;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveMainView;<br><span class="linehead"> </span>class BlogPositivePlugin {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	virtual	uint32				Version();<br><span class="linehead"> </span>	virtual	uint32				MainHandler();<br><span class="linehead"> </span>	virtual	const char*			Name();<br><span class="linehead"> </span>	virtual	int32				Type();<br><span class="linehead"> </span><br><span class="linehead"> </span>	virtual	bool				Supports(int32 Code);<br><span class="linehead"> </span>	virtual	PostList*			GetBlogPosts(BlogPositiveBlog* blog);<br><span class="linehead"> </span>	virtual	void				SavePost(BlogPositivePost* post);<br><span class="linehead"> </span>	virtual	BlogPositivePost*	CreateNewPost(BlogPositiveBlog* blog,<br><span class="linehead"> </span>									const char* name);<br><span class="linehead"> </span>	virtual	void				RemovePost(BlogPositivePost* post);<br><span class="linehead"> </span>	virtual	void				OpenNewBlogWindow(BlogPositiveMainView* main);<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositivePluginLoader.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePluginLoader.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;List.h&gt;<br><span class="linehead"> </span>#include &lt;stdio.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveBlog.h"<br><span class="linehead"> </span>#include "BlogPositivePluginWindow.h"<br><span class="linehead"> </span>#include "../Exampl<span class="highlight tooltip">e/E<em>Missing space after operator</em></span>xamplePlugin.h"<br><span class="linehead"> </span>#include "../BlogPositivePlugin<span class="highlight tooltip">s/W<em>Missing space after operator</em></span>ordpressPlugi<span class="highlight tooltip">n/W<em>Missing space after operator</em></span>ordpressPlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>PluginList* BlogPositivePluginLoader::fList;<br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePluginLoader::Initialize()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fList = new PluginList();<br><span class="linehead"> </span>	fList-&gt;AddItem(new ExamplePlugin());<br><span class="linehead"> </span>	fList-&gt;AddItem(new WordpressPlugin());<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePluginLoader::FindPlugin(BlogPositiveBlog* aBlog)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BlogPositivePlugin* aWorkingPlugin = NULL;<br><span class="linehead"> </span>	for (int i = 0; i &lt; fList-&gt;CountItems(); i++)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		BlogPositivePlugin* aPlugin = fList-&gt;ItemAt(i);<br><span class="linehead"> </span>		if (aPlugin-&gt;Type() == kBlogPositiveBlogApi<br><span class="linehead"> </span>			&amp;&amp; aPlugin-&gt;Supports(aBlog-&gt;BlogHandler()))<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			aWorkingPlugin = aPlugin;<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	if (aWorkingPlugin == 0)<br><span class="linehead"> </span>		return;<br><span class="linehead"> </span><br><span class="linehead"> </span>	aBlog-&gt;SetPlugin(aWorkingPlugin);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>PluginList<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePluginLoader::List()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fList;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositivePluginLoader.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_PLUGIN_LOADER_H<br><span class="linehead"> </span>#define BP_PLUGIN_LOADER_H<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>class BWindow;<br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BlogPositivePost;<br><span class="linehead"> </span>class BlogPositivePluginBlogPostWindow;<br><span class="linehead"> </span>class BlogPositivePluginLoader {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	static void 		Initialize();<br><span class="linehead"> </span>	static void 		FindPlugin(BlogPositiveBlog* blog);<br><span class="linehead"> </span>	static PluginList*	List();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	static PluginList*	fList;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositivePluginWindow.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePluginWindow.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Window.h&gt;<br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveBlog.h"<br><span class="linehead"> </span>#include "BlogPositivePluginLoader.h"<br><span class="linehead"> </span>#include "BlogPositivePost.h"<br><span class="linehead"> </span>#include "BlogPositivePlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePluginPostListWindow::BlogPositivePluginPostListWindow(BRect rect,<br><span class="linehead"> </span>	const char* Name)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BWindow(rect, Name, B_DOCUMENT_WINDOW, 0)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePluginPostListWindow::SetBlog(BlogPositiveBlog* blog)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fBlog = blog;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveBlog<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePluginPostListWindow::Blog()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fBlog;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePluginPostListWindow::MessageReceived(BMessage* message)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	switch (message-&gt;what)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		case kPostWindowGetSelection:<br><span class="linehead"> </span>			BlogPositivePluginLoader::OpenPostWindowQueryingPlugins(this);<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		default:<br><span class="linehead"> </span>			BWindow::MessageReceived(message);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePluginBlogPostWindow::BlogPositivePluginBlogPostWindow(BRect rect,<br><span class="linehead"> </span>	const char* Name)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BWindow(rect, Name, B_DOCUMENT_WINDOW, 0)<br><span class="linehead"> </span>{<br><span class="linehead"> </span><br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePluginBlogPostWindow::SetPost(BlogPositivePost* post)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fPost = post;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePost<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePluginBlogPostWindow::Post()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fPost;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePluginBlogPostWindow::MessageReceived(BMessage* message)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	switch (message-&gt;what)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		case kPostWindowSavePost:<br><span class="linehead"> </span>			Post()-&gt;SetPage(BlogPositivePluginLoader::GetPageContent(this));<br><span class="linehead"> </span>			Post()-&gt;Blog()-&gt;Plugin()-&gt;SavePost(fPost);<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		default:<br><span class="linehead"> </span>			BWindow::MessageReceived(message);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositivePluginWindow.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>* Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span>* All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span>*<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_PLUGIN_WINDOW_H<br><span class="linehead"> </span>#define BP_PLUGIN_WINDOW_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Window.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>const uint32 kPostWindowGetSelection = 'PWgs';<br><span class="linehead"> </span>const uint32 kPostWindowSavePost = 'PWsp';<br><span class="linehead"> </span>const uint32 kPostWindowNewPost = 'PWnp';<br><span class="linehead"> </span><br><span class="linehead"> </span>class BMessage;<br><span class="linehead"> </span>class BRect;<br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BlogPositivePost;<br><span class="linehead"> </span>class BlogPositivePluginPostListWindow : public BWindow {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>						BlogPositivePluginPostListWindow(BRect rect,<br><span class="linehead"> </span>							const char* Name);<br><span class="linehead"> </span>	void				SetBlog(BlogPositiveBlog* blog);<br><span class="linehead"> </span>	BlogPositiveBlog*	Blog();<br><span class="linehead"> </span>	void				MessageReceived(BMessage* msg);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositiveBlog*	fBlog;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositivePluginBlogPostWindow : public BWindow {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>						BlogPositivePluginBlogPostWindow(BRect rect,<br><span class="linehead"> </span>							const char* Name);<br><span class="linehead"> </span>	void				SetPost(BlogPositivePost* post);<br><span class="linehead"> </span>	BlogPositivePost*	Post();<br><span class="linehead"> </span>	void				MessageReceived(BMessage* msg);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositivePost*	fPost;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositivePost.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePost.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveBlog.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePost::BlogPositivePost(BlogPositiveBlog* aBlog)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fBlog = aBlog;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveBlog<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePost::Blog()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fBlog;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePost::SetBlog(BlogPositiveBlog* aBlog)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fBlog = aBlog;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePost::Name()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fName.String();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePost::SetName(const char* aName)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fName.SetTo(aName);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>BlogPositivePost::Page()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fPage.String();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePost::SetPage(const char* page)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fPage.SetTo(page);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>BlogPositivePost::PageSize()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fPage.Length();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./API/BlogPositivePost.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_POST_H<br><span class="linehead"> </span>#define BP_POST_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;ObjectList.h&gt;<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span>#include &lt;SupportDefs.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositivePost;<br><span class="linehead"> </span>typedef BObjectList&lt;BlogPositivePost&gt; PostList;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BlogPositivePost {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>						BlogPositivePost() {}<br><span class="linehead"> </span>						BlogPositivePost(BlogPositiveBlog* blog);<br><span class="linehead"> </span>	BlogPositiveBlog*	Blog();<br><span class="linehead"> </span>	void				SetBlog(BlogPositiveBlog* blog);<br><span class="linehead"> </span>	const char*			Name();<br><span class="linehead"> </span>	void				SetName(const char* name);<br><span class="linehead"> </span>	const char*			Page();<br><span class="linehead"> </span>	void				SetPage(const char* page);<br><span class="linehead"> </span>	uint32				PageSize();<br><span class="linehead"> </span>protected:<br><span class="linehead"> </span>	BString				fName;<br><span class="linehead"> </span>	BString				fPage;<br><span class="linehead"> </span>	BlogPositiveBlog*	fBlog;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositiveMain/BlogPositiveBlogListItem.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveBlogListItem.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositiveBlog.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveBlogListItem::BlogPositiveBlogListItem(BlogPositiveBlog* blog)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BStringItem(blog-&gt;Name())<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fBlog = blog;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositiveMain/BlogPositiveBlogListItem.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_BLOGLISTITEM_H<br><span class="linehead"> </span>#define BP_BLOGLISTITEM_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;ListItem.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BlogPositiveBlogListItem : public BStringItem {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>						BlogPositiveBlogListItem(BlogPositiveBlog* blog);<br><span class="linehead"> </span>	BlogPositiveBlog*	Blog()<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		return fBlog;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositiveBlog*	fBlog;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositiveMain/BlogPositiveMainView.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br> 132<br> 133<br> 134<br> 135<br> 136<br> 137<br> 138<br> 139<br> 140<br> 141<br> 142<br> 143<br> 144<br> 145<br> 146<br> 147<br> 148<br> 149<br> 150<br> 151<br> 152<br> 153<br> 154<br> 155<br> 156<br> 157<br> 158<br> 159<br> 160<br> 161<br> 162<br> 163<br> 164<br> 165<br> 166<br> 167<br> 168<br> 169<br> 170<br> 171<br> 172<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveMainView.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;TextView.h&gt;<br><span class="linehead"> </span>#include &lt;ListView.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayoutBuilder.h&gt;<br><span class="linehead"> </span>#include &lt;ScrollView.h&gt;<br><span class="linehead"> </span>#include &lt;List.h&gt;<br><span class="linehead"> </span>#include &lt;MenuBar.h&gt;<br><span class="linehead"> </span>#include &lt;MenuItem.h&gt;<br><span class="linehead"> </span>#include &lt;Catalog.h&gt;<br><span class="linehead"> </span>#include &lt;stdio.h&gt;<br><span class="linehead"> </span>#include &lt;Point.h&gt;<br><span class="linehead"> </span>#include &lt;PopUpMenu.h&gt;<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span>#include &lt;Rect.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositiveBlog.h"<br><span class="linehead"> </span>#include "../BlogPositiveSettings.h"<br><span class="linehead"> </span>#include "../BlogPositivePostLis<span class="highlight tooltip">t/B<em>Missing space after operator</em></span>logPositivePostListWindow.h"<br><span class="linehead"> </span>#include "BlogPositiveBlogListItem.h"<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePlugin.h"<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePluginLoader.h"<br><span class="linehead"> </span>#include "../BlogPositiveDelegate.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#undef B_TRANSLATION_CONTEXT<br><span class="linehead"> </span>#define B_TRANSLATION_CONTEXT "Main View"<br><span class="linehead"> </span><br><span class="linehead"> </span>const int32 kBlogSelected = 'BPBS';<br><span class="linehead"> </span>const int32 kCreateNewBlog = 'BPCB';<br><span class="linehead"> </span>const int32 kRemoveCurrentBlog = 'BPRC';<br><span class="linehead"> </span>class BlogPositiveBlogListView : public BListView {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>				BlogPositiveBlogListView()<br><span class="linehead"> </span>				:<br><span class="linehead"> </span>				BListView("BlogPositiveBlogListView", B_SINGLE_SELECTION_LIST)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	void		Reload(BlogList* BlogItemList)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		for (int i = 0; i &lt; BlogItemList-&gt;CountItems(); i++)<br><span class="linehead"> </span>			AddItem(new BlogPositiveBlogListItem(BlogItemList-&gt;ItemAt(i)));<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveMainView::MessageReceived(BMessage* message)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	switch (message-&gt;what)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		case kRemoveCurrentBlog:<br><span class="linehead"> </span>			RemoveBlog();<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		case kBlogSelected:<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			if (fListView-&gt;CurrentSelection() == -1)<br><span class="linehead"> </span>				break;<br><span class="linehead"> </span>			BlogPositiveBlog* aBlog<br><span class="linehead"> </span>				= ((BlogPositiveBlogListItem*)fListView-&gt;ItemAt(<br><span class="linehead"> </span>						fListView-&gt;CurrentSelection()))-&gt;Blog();<br><span class="linehead"> </span>			BlogPositivePluginLoader::FindPlugin(aBlog);<br><span class="linehead"> </span>			fDelegate-&gt;OpenPostList(aBlog);<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		case kCreateNewBlog:<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			int32 index = message-&gt;GetInt32("ding", 0);<br><span class="linehead"> </span>			PluginList* pluginList = BlogPositivePluginLoader::List();<br><span class="linehead"> </span>			BlogPositivePlugin* plugin = pluginList-&gt;ItemAt(index);<br><span class="linehead"> </span>			plugin-&gt;OpenNewBlogWindow(this);<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		default:<br><span class="linehead"> </span>			BView::MessageReceived(message);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveMainView::RemoveBlog()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	int32 sel = fListView-&gt;CurrentSelection();<br><span class="linehead"> </span>	if (sel == -1)<br><span class="linehead"> </span>		return;<br><span class="linehead"> </span>	BlogPositiveSettings* settings = new BlogPositiveSettings("bloglist");<br><span class="linehead"> </span>	BlogList* lis = BlogPositiveBlog::DeserializeList(settings, "blogs");<br><span class="linehead"> </span>	BlogPositiveBlogListItem* listItem<br><span class="linehead"> </span>		= static_cast&lt;BlogPositiveBlogListItem*&gt;(fListView-&gt;ItemAt(sel));<br><span class="linehead"> </span>	BlogPositiveBlog* blog = listItem-&gt;Blog();<br><span class="linehead"> </span>	for (int i = 0; i &lt; lis-&gt;CountItems(); i++)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		if (strcmp(blog-&gt;Name(), lis-&gt;ItemAt(i)-&gt;Name()) == 0)<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			lis-&gt;RemoveItemAt(i);<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	BlogPositiveSettings::SaveOther(BlogPositiveBlog::SerializeList(lis,<br><span class="linehead"> </span>		"blogs"), "bloglist");<br><span class="linehead"> </span><br><span class="linehead"> </span>	Reload(lis);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveMainView::Reload(BlogList* lis)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fListView-&gt;MakeEmpty();<br><span class="linehead"> </span>	fListView-&gt;Reload(lis);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveMainView::AttachedToWindow()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fListView-&gt;SetTarget(this);<br><span class="linehead"> </span>	for (int i = 0; i &lt; fNewMenu-&gt;CountItems(); i++)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		fNewMenu-&gt;ItemAt(i)-&gt;SetTarget(this);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	fRemoveMenuItem-&gt;SetTarget(this);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveMainView::BlogPositiveMainView(const char* name,<br><span class="linehead"> </span>	BlogPositiveDelegate* del)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BView(name, 0)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fDelegate = del;<br><span class="linehead"> </span><br><span class="linehead"> </span>	fListView = new BlogPositiveBlogListView();<br><span class="linehead"> </span>	fListView-&gt;SetInvocationMessage(new BMessage(kBlogSelected));<br><span class="linehead"> </span><br><span class="linehead"> </span>	fMenuBar = new BMenuBar("MenuBar");<br><span class="linehead"> </span><br><span class="linehead"> </span>	fNewMenu = new BMenu(B_TRANSLATE("Add Blog"));<br><span class="linehead"> </span>	fMenuBar-&gt;AddItem(fNewMenu);<br><span class="linehead"> </span><br><span class="linehead"> </span>	PluginList* pluginList = BlogPositivePluginLoader::List();<br><span class="linehead"> </span>	BlogPositiveSettings* settings = new BlogPositiveSettings("bloglist");<br><span class="linehead"> </span><br><span class="linehead"> </span>	BlogList* lis = BlogPositiveBlog::DeserializeList(settings, "blogs");<br><span class="linehead"> </span>	fListView-&gt;Reload(lis);<br><span class="linehead"> </span><br><span class="linehead"> </span>	for (int i = 0; i &lt; pluginList-&gt;CountItems(); i++)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		BlogPositivePlugin* pl = (BlogPositivePlugin* )pluginList-&gt;ItemAt(i);<br><span class="linehead"> </span>		if (pl-&gt;Type() == kBlogPositiveBlogApi)<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			BMessage* msg = new BMessage(kCreateNewBlog);<br><span class="linehead"> </span>			msg-&gt;SetInt32("ding", i);<br><span class="linehead"> </span>			msg-&gt;SetString("sendToView", Name());<br><span class="linehead"> </span>			BMenuItem* mi = new BMenuItem(pl-&gt;Name(), msg);<br><span class="linehead"> </span>			fNewMenu-&gt;AddItem(mi);<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	BMessage* aMenuItemMessage = new BMessage(kRemoveCurrentBlog);<br><span class="linehead"> </span>	fRemoveMenuItem = new BMenuItem(B_TRANSLATE("Remove blog"), aMenuItemMessage);<br><span class="linehead"> </span>	fMenuBar-&gt;AddItem(fRemoveMenuItem);<br><span class="linehead"> </span><br><span class="linehead"> </span>	SetLayout(new BGroupLayout(B_VERTICAL, 0));<br><span class="linehead"> </span>	AddChild(fMenuBar);<br><span class="linehead"> </span>	AddChild(new BScrollView("scroll_view", fListView, 0, false, true));<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositiveMain/BlogPositiveMainView.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_MAIN_VIEW_H<br><span class="linehead"> </span>#define BP_MAIN_VIEW_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;View.h&gt;<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositiveBlog.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>class BListView;<br><span class="linehead"> </span>class BMessage;<br><span class="linehead"> </span>class BMenuBar;<br><span class="linehead"> </span>class BMenu;<br><span class="linehead"> </span>class BlogPositiveBlogListView;<br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BPoint;<br><span class="linehead"> </span>class BMenuItem;<br><span class="linehead"> </span>class BlogPositiveDelegate;<br><span class="linehead"> </span>class BlogPositiveMainView : public BView<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>								BlogPositiveMainView(const char* name,<br><span class="linehead"> </span>									BlogPositiveDelegate* del);<br><span class="linehead"> </span>	void						MessageReceived(BMessage* message);<br><span class="linehead"> </span>	void						AttachedToWindow();<br><span class="linehead"> </span>	void						Reload(BlogList* list);<br><span class="linehead"> </span>	void						RemoveBlog();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BMenuBar*					fMenuBar;<br><span class="linehead"> </span>	BMenu*						fNewMenu;<br><span class="linehead"> </span>	BMenuItem*					fRemoveMenuItem;<br><span class="linehead"> </span>	BlogPositiveBlogListView*	fListView;<br><span class="linehead"> </span>	BlogPositiveDelegate*		fDelegate;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositiveMain/BlogPositiveMainWindow.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositiveMainWindow.h"<br><span class="linehead"> </span>#include "BlogPositiveMainView.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Rect.h&gt;<br><span class="linehead"> </span>#include &lt;Catalog.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayout.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayoutBuilder.h&gt;<br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span>#include &lt;stdio.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../BlogPositiveDelegate.h"<br><span class="linehead"> </span>#include "../BlogPositivePostLis<span class="highlight tooltip">t/B<em>Missing space after operator</em></span>logPositivePostListWindow.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#undef B_TRANSLATION_CONTEXT<br><span class="linehead"> </span>#define B_TRANSLATION_CONTEXT "Main Window"<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveMainDelegate : public BlogPositiveDelegate<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	public:<br><span class="linehead"> </span>		void	OpenPostList(BlogPositiveBlog* aBlog)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		BlogPositivePostListWindow* aWindow<br><span class="linehead"> </span>			= new BlogPositivePostListWindow(aBlog, BRect(100, 100, 400, 600));<br><span class="linehead"> </span>		aWindow-&gt;Show();<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositiveMainWindow::BlogPositiveMainWindow(BRect frame)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BWindow(frame, B_TRANSLATE("BlogPositive"),<br><span class="linehead"> </span>		B_TITLED_WINDOW, B_AUTO_UPDATE_SIZE_LIMITS)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BlogPositiveMainView* view<br><span class="linehead"> </span>		= new BlogPositiveMainView("MainView", new BlogPositiveMainDelegate());<br><span class="linehead"> </span>	AddHandler(view);<br><span class="linehead"> </span>	SetLayout(new BGroupLayout(B_VERTICAL, 0));<br><span class="linehead"> </span>	AddChild(view);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositiveMainWindow::MessageReceived(BMessage* message)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BWindow::MessageReceived(message);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositiveMain/BlogPositiveMainWindow.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_MAIN_WINDOW_H<br><span class="linehead"> </span>#define BP_MAIN_WINDOW_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Window.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BMessage;<br><span class="linehead"> </span>class BlogPositiveMainWindow : public BWindow<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>			BlogPositiveMainWindow(BRect frame);<br><span class="linehead"> </span>	void	MessageReceived(BMessage* msg);<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePlugins/CreateWindowPlugin/CreateWindowPlugin.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br> 132<br> 133<br> 134<br> 135<br> 136<br> 137<br> 138<br> 139<br> 140<br> 141<br> 142<br> 143<br> 144<br> 145<br> 146<br> 147<br> 148<br> 149<br> 150<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "CreateWindowPlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;GroupLayout.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayoutBuilder.h&gt;<br><span class="linehead"> </span>#include &lt;OS.h&gt;<br><span class="linehead"> </span>#include &lt;ScrollView.h&gt;<br><span class="linehead"> </span>#include &lt;Menu.h&gt;<br><span class="linehead"> </span>#include &lt;MenuBar.h&gt;<br><span class="linehead"> </span>#include &lt;MenuItem.h&gt;<br><span class="linehead"> </span>#include &lt;ListView.h&gt;<br><span class="linehead"> </span>#include &lt;TextView.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePluginWindow.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>class PostItem : public BStringItem {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>						PostItem(BlogPositivePost* post);<br><span class="linehead"> </span>	BlogPositivePost*	Post();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositivePost*	fPost;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>PostItem::PostItem(BlogPositivePost* post)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BStringItem(post-&gt;Name())<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fPost = post;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePost<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>PostItem::Post()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fPost;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>class PluginAndWindowThing {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	BWindow* fWindow;<br><span class="linehead"> </span>	BlogPositivePlugin* fPlugin;<br><span class="linehead"> </span>	BlogPositiveBlog* fBlog;<br><span class="linehead"> </span>	BListView* fView;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>CreateWindowPlugin::Version()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return 0;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>CreateWindowPlugin::Type()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return kBlogPositiveBlogEditor;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>CreateWindowPlugin::HookBlogList(BlogPositivePluginPostListWindow** aWindow,<br><span class="linehead"> </span>	BlogPositiveBlog* aBlog)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BWindow* win = *aWindow;<br><span class="linehead"> </span>	BListView* aView = new BListView("ListView");<br><span class="linehead"> </span>	BMessage* msg = new BMessage(kPostWindowGetSelection);<br><span class="linehead"> </span>	aView-&gt;SetInvocationMessage(msg);<br><span class="linehead"> </span>	win-&gt;SetLayout(new BGroupLayout(B_VERTICAL));<br><span class="linehead"> </span>	win-&gt;AddChild(BGroupLayoutBuilder(B_VERTICAL, 10).Add(aView));<br><span class="linehead"> </span>	PluginAndWindowThing* thing = new PluginAndWindowThing();<br><span class="linehead"> </span>	thing-&gt;fWindow = *aWindow;<br><span class="linehead"> </span>	thing-&gt;fBlog = aBlog;<br><span class="linehead"> </span>	thing-&gt;fView = aView;<br><span class="linehead"> </span>	thing-&gt;fPlugin = aBlog-&gt;Plugin();<br><span class="linehead"> </span>	thread_id readThread = spawn_thread(loadList, "load_posts",<br><span class="linehead"> </span>		B_NORMAL_PRIORITY, thing);<br><span class="linehead"> </span>	resume_thread(readThread);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePost<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>CreateWindowPlugin::TryGetPost(BWindow* aWindow)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BListView* aView = (BListView*)aWindow-&gt;FindView("ListView");<br><span class="linehead"> </span>	if (aView != NULL) {<br><span class="linehead"> </span>		int32 ChosenOne = aView-&gt;CurrentSelection();<br><span class="linehead"> </span>		if (ChosenOne == -1) {<br><span class="linehead"> </span>			return NULL;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		PostItem* item = (PostItem*)aView-&gt;ItemAt(ChosenOne);<br><span class="linehead"> </span>		return item-&gt;Post();<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	return NULL;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>CreateWindowPlugin::loadList(void* t)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	PluginAndWindowThing* thing = (PluginAndWindowThing*)t;<br><span class="linehead"> </span>	BList* list = thing-&gt;fPlugin-&gt;GetBlogPosts(thing-&gt;fBlog);<br><span class="linehead"> </span>	if (thing-&gt;fView-&gt;LockLooper()) {<br><span class="linehead"> </span>		for (int i = 0; i &lt; list-&gt;CountItems(); i++) {<br><span class="linehead"> </span>			BlogPositivePost* post = (BlogPositivePost*)list-&gt;ItemAt(i);<br><span class="linehead"> </span>			thing-&gt;fView-&gt;AddItem(new PostItem(post));<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		thing-&gt;fView-&gt;UnlockLooper();<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>CreateWindowPlugin::HookEditor(BlogPositivePluginBlogPostWindow**aWindow,<br><span class="linehead"> </span>	BlogPositivePost* aPost)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BlogPositivePluginBlogPostWindow* win = *aWindow;<br><span class="linehead"> </span><br><span class="linehead"> </span>	BTextView* aView = new BTextView("TextView");<br><span class="linehead"> </span>	aView-&gt;SetText(aPost-&gt;Page());<br><span class="linehead"> </span><br><span class="linehead"> </span>	BMenuBar* menuBar = new BMenuBar("MenuBar");<br><span class="linehead"> </span><br><span class="linehead"> </span>	win-&gt;SetLayout(new BGroupLayout(B_VERTICAL));<br><span class="linehead"> </span>	win-&gt;AddChild(menuBar);<br><span class="linehead"> </span>	win-&gt;AddChild(aView);<br><span class="linehead"> </span><br><span class="linehead"> </span>	BMenu* menu = new BMenu("File");<br><span class="linehead"> </span><br><span class="linehead"> </span>	menu-&gt;AddItem(new BMenuItem("Save",<br><span class="linehead"> </span>		new BMessage(kPostWindowSavePost), 'S'));<br><span class="linehead"> </span><br><span class="linehead"> </span>	menuBar-&gt;AddItem(menu);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>CreateWindowPlugin::GetPostContent(BlogPositivePluginBlogPostWindow* aWindow)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>BView* aView = aWindow-&gt;FindView("TextView");<br><span class="linehead"> </span>BTextView* aTextView = (BTextView*)aView;<br><span class="linehead"> </span>return aTextView-&gt;Text();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePlugins/CreateWindowPlugin/CreateWindowPlugin.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_CREATE_WINDOW_PLUGIN_H<br><span class="linehead"> </span>#define BP_CREATE_WINDOW_PLUGIN_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositivePluginPostListWindow;<br><span class="linehead"> </span>class BlogPositivePluginBlogPostWindow;<br><span class="linehead"> </span>class BlogPositivePost;<br><span class="linehead"> </span>class BlogPostiveBlog;<br><span class="linehead"> </span>class BWindow;<br><span class="linehead"> </span>class CreateWindowPlugin : public BlogPositivePlugin {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	uint32				Version();<br><span class="linehead"> </span>	int32				Type();<br><span class="linehead"> </span>	void				HookBlogList(BlogPositivePluginPostListWindow** window,<br><span class="linehead"> </span>							BlogPositiveBlog* blog);<br><span class="linehead"> </span>	BlogPositivePost*	TryGetPost(BWindow* window);<br><span class="linehead"> </span>	static int32		loadList(void* t);<br><span class="linehead"> </span>	void				HookEditor(BlogPositivePluginBlogPostWindow** window,<br><span class="linehead"> </span>							BlogPositivePost* post);<br><span class="linehead"> </span>	const char*			GetPostContent(BlogPositivePluginBlogPostWindow* window);<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePlugins/WordpressPlugin/WordpressPlugin.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br> 132<br> 133<br> 134<br> 135<br> 136<br> 137<br> 138<br> 139<br> 140<br> 141<br> 142<br> 143<br> 144<br> 145<br> 146<br> 147<br> 148<br> 149<br> 150<br> 151<br> 152<br> 153<br> 154<br> 155<br> 156<br> 157<br> 158<br> 159<br> 160<br> 161<br> 162<br> 163<br> 164<br> 165<br> 166<br> 167<br> 168<br> 169<br> 170<br> 171<br> 172<br> 173<br> 174<br> 175<br> 176<br> 177<br> 178<br> 179<br> 180<br> 181<br> 182<br> 183<br> 184<br> 185<br> 186<br> 187<br> 188<br> 189<br> 190<br> 191<br> 192<br> 193<br> 194<br> 195<br> 196<br> 197<br> 198<br> 199<br> 200<br> 201<br> 202<br> 203<br> 204<br> 205<br> 206<br> 207<br> 208<br> 209<br> 210<br> 211<br> 212<br> 213<br> 214<br> 215<br> 216<br> 217<br> 218<br> 219<br> 220<br> 221<br> 222<br> 223<br> 224<br> 225<br> 226<br> 227<br> 228<br> 229<br> 230<br> 231<br> 232<br> 233<br> 234<br> 235<br> 236<br> 237<br> 238<br> 239<br> 240<br> 241<br> 242<br> 243<br> 244<br> 245<br> 246<br> 247<br> 248<br> 249<br> 250<br> 251<br> 252<br> 253<br> 254<br> 255<br> 256<br> 257<br> 258<br> 259<br> 260<br> 261<br> 262<br> 263<br> 264<br> 265<br> 266<br> 267<br> 268<br> 269<br> 270<br> 271<br> 272<br> 273<br> 274<br> 275<br> 276<br> 277<br> 278<br> 279<br> 280<br> 281<br> 282<br> 283<br> 284<br> 285<br> 286<br> 287<br> 288<br> 289<br> 290<br> 291<br> 292<br> 293<br> 294<br> 295<br> 296<br> 297<br> 298<br> 299<br> 300<br> 301<br> 302<br> 303<br> 304<br> 305<br> 306<br> 307<br> 308<br> 309<br> 310<br> 311<br> 312<br> 313<br> 314<br> 315<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "WordpressPlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Alert.h&gt;<br><span class="linehead"> </span>#include "../../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositiveBlog.h"<br><span class="linehead"> </span>#include "../../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePost.h"<br><span class="linehead"> </span>#include &lt;cur<span class="highlight tooltip">l/c<em>Missing space after operator</em></span>url.h&gt;<br><span class="linehead"> </span>#include &lt;Catalog.h&gt;<br><span class="linehead"> </span>#include &lt;stdio.h&gt;<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span>#include "xmlnode.h"<br><span class="linehead"> </span>#include "XmlRpcWrapper.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#undef B_TRANSLATION_CONTEXT<br><span class="linehead"> </span>#define B_TRANSLATION_CONTEXT "Wordpress Plugin"<br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>WordpressPlugin::GetAuthentication(BString Auth, BString* Username,<br><span class="linehead"> </span>	BString* Password, BString* XmlRPCUrl)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	int32 SeperatorLocation = Auth.FindFirst("|||");<br><span class="linehead"> </span>	int32 LastLocation = Auth.FindLast("|||");<br><span class="linehead"> </span><br><span class="linehead"> </span>	Auth.CopyInto(*Username, 0, SeperatorLocation);<br><span class="linehead"> </span><br><span class="linehead"> </span>	Auth.CopyInto(*Password, SeperatorLocation + 3,<br><span class="linehead"> </span>		LastLocation - SeperatorLocation - 3);<br><span class="linehead"> </span><br><span class="linehead"> </span>	Auth.CopyInto(*XmlRPCUrl, LastLocation + 3, Auth.Length()-LastLocation - 3);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>WordpressPlugin::Version()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return 0;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>WordpressPlugin::Name()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return B_TRANSLATE("Wordpress.com or sel<span class="highlight tooltip">f-h<em>Missing space after operator</em></span>osted");<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>WordpressPlugin::Type()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return kBlogPositiveBlogApi;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>WordpressPlugin::MainHandler()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return 'WoPr';<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>bool<br><span class="linehead"> </span>WordpressPlugin::Supports(int32 Code)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return Code == 'WoPr';<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>size_t WriteTobString(void* bloc, size_t size, size_t nmemb, void* userp)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	*((BString* )userp) &lt;&lt; (const char* )bloc;<br><span class="linehead"> </span>	return nmemb;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>class WordpressPost : public BlogPositivePost<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>				WordpressPost(BString aPostName, BString aPostContent,<br><span class="linehead"> </span>					BString aPostId, BlogPositiveBlog* aBlog);<br><span class="linehead"> </span>	const char*	PostId();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BString fId;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>WordpressPost::WordpressPost(BString postName, BString postContent,<br><span class="linehead"> </span>	BString postId, BlogPositiveBlog* blog)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BlogPositivePost(blog)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fName.SetTo(postName);<br><span class="linehead"> </span>	fPage.SetTo(postContent);<br><span class="linehead"> </span>	fId.SetTo(postId);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>WordpressPost::PostId()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fId.String();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>PostList<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>WordpressPlugin::GetBlogPosts(BlogPositiveBlog* aBlog)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString username;<br><span class="linehead"> </span>	BString password;<br><span class="linehead"> </span>	BString xmlrpcurl;<br><span class="linehead"> </span>	BString Auth(aBlog-&gt;Authentication());<br><span class="linehead"> </span><br><span class="linehead"> </span>	GetAuthentication(Auth, &amp;username, &amp;password, &amp;xmlrpcurl);<br><span class="linehead"> </span><br><span class="linehead"> </span>	XmlRpcRequest* r = new XmlRpcRequest();<br><span class="linehead"> </span><br><span class="linehead"> </span>	r-&gt;SetMethodName("metaWeblog.getRecentPosts");<br><span class="linehead"> </span>	r-&gt;AddItem(new XmlValue(1));<br><span class="linehead"> </span>	r-&gt;AddItem(new XmlValue(username));<br><span class="linehead"> </span>	r-&gt;AddItem(new XmlValue(password));<br><span class="linehead"> </span>	r-&gt;AddItem(new XmlValue(30));<br><span class="linehead"> </span><br><span class="linehead"> </span>	CURL* curl = curl_easy_init();<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString responseString;<br><span class="linehead"> </span>	BString dataString(r-&gt;GetData());<br><span class="linehead"> </span><br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_URL, xmlrpcurl.String());<br><span class="linehead"> </span><br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_POSTFIELDS, dataString.String());<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, WriteTobString);<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_WRITEDATA, (void*)&amp;responseString);<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_USERAGENT, "libcur<span class="highlight tooltip">l-a<em>Missing space after operator</em></span>gen<span class="highlight tooltip">t/1<em>Missing space after operator</em></span>.0");<br><span class="linehead"> </span>	curl_easy_perform(curl);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	XmlNode* responseNode = new XmlNode(responseString.String(), NULL);<br><span class="linehead"> </span>	XmlNode* postNode = NULL;<br><span class="linehead"> </span>	if (responseNode-&gt;FindChild("param", NULL, true) == NULL) {<br><span class="linehead"> </span>		const char* errorMessageTitle = "";<br><span class="linehead"> </span>		const char* errorMessageContent = "";<br><span class="linehead"> </span>		long responseCode = 0;<br><span class="linehead"> </span>		curl_easy_getinfo(curl, CURLINFO_RESPONSE_CODE, &amp;responseCode);<br><span class="linehead"> </span>		switch (responseCode) {<br><span class="linehead"> </span>			case 404:<br><span class="linehead"> </span>				errorMessageTitle = B_TRANSLATE("404 - Blog not found");<br><span class="linehead"> </span>				errorMessageContent = B_TRANSLATE("Time goes on and on:\n"<br><span class="linehead"> </span>					"The blog you seek is not here\n"<br><span class="linehead"> </span>					"Maybe a typo?");<br><span class="linehead"> </span>				break;<br><span class="linehead"> </span>			case 500:<br><span class="linehead"> </span>				errorMessageTitle = B_TRANSLATE("500 - An error occured");<br><span class="linehead"> </span>				errorMessageContent = B_TRANSLATE("Sometimes things go wrong:\n"<br><span class="linehead"> </span>					"Maybe the server is down,\n"<br><span class="linehead"> </span>					"Maybe it needs help.");<br><span class="linehead"> </span>				break;<br><span class="linehead"> </span>			default:<br><span class="linehead"> </span>				errorMessageTitle = B_TRANSLATE("??? - Unknown error");<br><span class="linehead"> </span>				errorMessageContent = B_TRANSLATE("Errors do occur\n"<br><span class="linehead"> </span>					"But this is very special\n"<br><span class="linehead"> </span>					"Please do try again!");<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		BAlert* alertBox = new BAlert(errorMessageTitle, errorMessageContent,<br><span class="linehead"> </span>			":(");<br><span class="linehead"> </span>		alertBox-&gt;Go();<br><span class="linehead"> </span>		return new PostList();<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	XmlNode* postListNode = responseNode-&gt;FindChild("param", NULL, true)<br><span class="linehead"> </span>		-&gt;FindChild("array", NULL, true)-&gt;FindChild("data", NULL, true);<br><span class="linehead"> </span>	PostList* postList = new PostList();<br><span class="linehead"> </span><br><span class="linehead"> </span>	while ((postNode = postListNode-&gt;FindChild("value", postNode)) != NULL)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		BString aPostName;<br><span class="linehead"> </span>		BString aPostContent;<br><span class="linehead"> </span>		BString aPostId;<br><span class="linehead"> </span>		XmlNode* firstStructNode = postNode-&gt;FindChild("struct", NULL, true);<br><span class="linehead"> </span>		for (int i = 0; i &lt; firstStructNode-&gt;Children(); i++)<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			XmlNode* node = firstStructNode-&gt;ItemAt(i);<br><span class="linehead"> </span>			BString name = node-&gt;FindChild("name")-&gt;Value();<br><span class="linehead"> </span>			if (name == "title")<br><span class="linehead"> </span>			{<br><span class="linehead"> </span>				aPostName = node-&gt;FindChild("string", NULL, true)-&gt;Value();<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			if (name == "description")<br><span class="linehead"> </span>			{<br><span class="linehead"> </span>				aPostContent = node-&gt;FindChild("string", NULL, true)-&gt;Value();<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			if (name == "postid")<br><span class="linehead"> </span>			{<br><span class="linehead"> </span>				aPostId = node-&gt;FindChild("string", NULL, true)-&gt;Value();<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		WordpressPost* aPost = new WordpressPost(aPostName, aPostContent,<br><span class="linehead"> </span>			aPostId, aBlog);<br><span class="linehead"> </span>		postList-&gt;AddItem(aPost);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	return postList;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>WordpressPlugin::RemovePost(BlogPositivePost* aPost)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BlogPositiveBlog* aBlog = aPost-&gt;Blog();<br><span class="linehead"> </span>	WordpressPost* wpPost = (WordpressPost* )aPost;<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString username;<br><span class="linehead"> </span>	BString password;<br><span class="linehead"> </span>	BString xmlrpcurl;<br><span class="linehead"> </span>	BString Auth(aBlog-&gt;Authentication());<br><span class="linehead"> </span><br><span class="linehead"> </span>	GetAuthentication(Auth, &amp;username, &amp;password, &amp;xmlrpcurl);<br><span class="linehead"> </span><br><span class="linehead"> </span>	XmlRpcRequest* request = new XmlRpcRequest();<br><span class="linehead"> </span>	request-&gt;SetMethodName("wp.deletePost");<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(1));<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(username));<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(password));<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(wpPost-&gt;PostId(), "int"));<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString dataString = request-&gt;GetData();<br><span class="linehead"> </span><br><span class="linehead"> </span>	CURL* curl = curl_easy_init();<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_URL, xmlrpcurl.String());<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_POSTFIELDS, dataString.String());<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_USERAGENT, "libcur<span class="highlight tooltip">l-a<em>Missing space after operator</em></span>gen<span class="highlight tooltip">t/1<em>Missing space after operator</em></span>.0");<br><span class="linehead"> </span>	curl_easy_perform(curl);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>WordpressPlugin::SavePost(BlogPositivePost* aPost)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>BlogPositiveBlog* aBlog = aPost-&gt;Blog();<br><span class="linehead"> </span>WordpressPost* wpPost = (WordpressPost* )aPost;<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString username;<br><span class="linehead"> </span>	BString password;<br><span class="linehead"> </span>	BString xmlrpcurl;<br><span class="linehead"> </span>	BString Auth(aBlog-&gt;Authentication());<br><span class="linehead"> </span><br><span class="linehead"> </span>	GetAuthentication(Auth, &amp;username, &amp;password, &amp;xmlrpcurl);<br><span class="linehead"> </span><br><span class="linehead"> </span>	XmlRpcRequest* request = new XmlRpcRequest();<br><span class="linehead"> </span>	request-&gt;SetMethodName("wp.editPost");<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(1));<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(username));<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(password));<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(wpPost-&gt;PostId(), "int"));<br><span class="linehead"> </span><br><span class="linehead"> </span>	XmlStruct* struc = new XmlStruct();<br><span class="linehead"> </span>	XmlNameValuePair* p = new XmlNameValuePair("post_content", wpPost-&gt;Page());<br><span class="linehead"> </span>	struc-&gt;AddItem(p);<br><span class="linehead"> </span>	request-&gt;AddItem(struc);<br><span class="linehead"> </span><br><span class="linehead"> </span>	CURL* curl = curl_easy_init();<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString str;<br><span class="linehead"> </span><br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_URL, xmlrpcurl.String());<br><span class="linehead"> </span>	BString requestString = request-&gt;GetData();<br><span class="linehead"> </span><br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_POSTFIELDS, requestString.String());<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_USERAGENT, "libcur<span class="highlight tooltip">l-a<em>Missing space after operator</em></span>gen<span class="highlight tooltip">t/1<em>Missing space after operator</em></span>.0");<br><span class="linehead"> </span>	curl_easy_perform(curl);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePost<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>WordpressPlugin::CreateNewPost(BlogPositiveBlog* aBlog, const char* aName)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString Auth = BString(aBlog-&gt;Authentication());<br><span class="linehead"> </span>	BString username;<br><span class="linehead"> </span>	BString password;<br><span class="linehead"> </span>	BString xmlrpcurl;<br><span class="linehead"> </span><br><span class="linehead"> </span>	GetAuthentication(Auth, &amp;username, &amp;password, &amp;xmlrpcurl);<br><span class="linehead"> </span><br><span class="linehead"> </span>	XmlRpcRequest* request = new XmlRpcRequest();<br><span class="linehead"> </span>	request-&gt;SetMethodName("wp.newPost");<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(1));<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(username));<br><span class="linehead"> </span>	request-&gt;AddItem(new XmlValue(password));<br><span class="linehead"> </span>	XmlStruct* strut = new XmlStruct();<br><span class="linehead"> </span>	strut-&gt;AddItem(new XmlNameValuePair("post_status",<br><span class="linehead"> </span>		new XmlValue("publish")));<br><span class="linehead"> </span>	strut-&gt;AddItem(new XmlNameValuePair("post_title", new XmlValue(aName)));<br><span class="linehead"> </span>	request-&gt;AddItem(strut);<br><span class="linehead"> </span><br><span class="linehead"> </span>	CURL* curl = curl_easy_init();<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_URL, xmlrpcurl.String());<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString responseString;<br><span class="linehead"> </span>	BString requestString = request-&gt;GetData();<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_POSTFIELDS, requestString.String());<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, WriteTobString);<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_WRITEDATA, (void*)&amp;responseString);<br><span class="linehead"> </span>	curl_easy_setopt(curl, CURLOPT_USERAGENT, "libcur<span class="highlight tooltip">l-a<em>Missing space after operator</em></span>gen<span class="highlight tooltip">t/1<em>Missing space after operator</em></span>.0");<br><span class="linehead"> </span>	curl_easy_perform(curl);<br><span class="linehead"> </span><br><span class="linehead"> </span>	XmlNode* responseNode = new XmlNode(responseString.String(), NULL);<br><span class="linehead"> </span>	XmlNode* rstring = responseNode-&gt;FindChild("string", NULL, true);<br><span class="linehead"> </span>	if (rstring != NULL) {<br><span class="linehead"> </span>		WordpressPost* post = new WordpressPost(aName, "",<br><span class="linehead"> </span>			rstring-&gt;Value(), aBlog);<br><span class="linehead"> </span>		return post;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	return NULL;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePlugins/WordpressPlugin/WordpressPlugin.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span>#ifndef BP_WP_PLUGIN_H<br><span class="linehead"> </span>#define BP_WP_PLUGIN_H<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePlugin.h"<br><span class="linehead"> </span>#include "../../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePost.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BlogPositivePost;<br><span class="linehead"> </span>class WordpressPlugin : public BlogPositivePlugin<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	uint32				Version();<br><span class="linehead"> </span>	const char*			Name();<br><span class="linehead"> </span>	int32				Type();<br><span class="linehead"> </span><br><span class="linehead"> </span>	uint32				MainHandler();<br><span class="linehead"> </span>	bool				Supports(int32 Code);<br><span class="linehead"> </span><br><span class="linehead"> </span>	PostList*			GetBlogPosts(BlogPositiveBlog* aBlog);<br><span class="linehead"> </span>	void				SavePost(BlogPositivePost* aPost);<br><span class="linehead"> </span>	BlogPositivePost*	CreateNewPost(BlogPositiveBlog* aBlog,<br><span class="linehead"> </span>							const char* aName);<br><span class="linehead"> </span>	void				RemovePost(BlogPositivePost* aPost);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	void				GetAuthentication(BString Auth,<br><span class="linehead"> </span>							BString* Username, BString* pass,<br><span class="linehead"> </span>							BString* XmlRPCUrl);<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePlugins/WordpressPlugin/xmlnode.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br> 132<br> 133<br> 134<br> 135<br> 136<br> 137<br> 138<br> 139<br> 140<br> 141<br> 142<br> 143<br> 144<br> 145<br> 146<br> 147<br> 148<br> 149<br> 150<br> 151<br> 152<br> 153<br> 154<br> 155<br> 156<br> 157<br> 158<br> 159<br> 160<br> 161<br> 162<br> 163<br> 164<br> 165<br> 166<br> 167<br> 168<br> 169<br> 170<br> 171<br> 172<br> 173<br> 174<br> 175<br> 176<br> 177<br> 178<br> 179<br> 180<br> 181<br> 182<br> 183<br> 184<br> 185<br> 186<br> 187<br> 188<br> 189<br> 190<br> 191<br> 192<br> 193<br> 194<br> 195<br> 196<br> 197<br> 198<br> 199<br> 200<br> 201<br> 202<br> 203<br> 204<br> 205<br> 206<br> 207<br> 208<br> 209<br> 210<br> 211<br> 212<br> 213<br> 214<br> 215<br> 216<br> 217<br> 218<br> 219<br> 220<br> 221<br> 222<br> 223<br> 224<br> 225<br> 226<br> 227<br> 228<br> 229<br> 230<br> 231<br> 232<br> 233<br> 234<br> 235<br> 236<br> 237<br> 238<br> 239<br> 240<br> 241<br> 242<br> 243<br> 244<br> 245<br> 246<br> 247<br> 248<br> 249<br> 250<br> 251<br> 252<br> 253<br> 254<br> 255<br> 256<br> 257<br> 258<br> 259<br> 260<br> 261<br> 262<br> 263<br> 264<br> 265<br> 266<br> 267<br> 268<br> 269<br> 270<br> 271<br> 272<br> 273<br> 274<br> 275<br> 276<br> 277<br> 278<br> 279<br> 280<br> 281<br> 282<br> 283<br> 284<br> 285<br> 286<br> 287<br> 288<br> 289<br> 290<br> 291<br> 292<br> 293<br> 294<br> 295<br> 296<br> 297<br> 298<br> 299<br> 300<br> 301<br> 302<br> 303<br> 304<br> 305<br> 306<br> 307<br> 308<br> 309<br> 310<br> 311<br> 312<br> 313<br> 314<br> 315<br> 316<br> 317<br> 318<br> 319<br> 320<br> 321<br> 322<br> 323<br> 324<br> 325<br> 326<br> 327<br> 328<br> 329<br> 330<br> 331<br> 332<br> 333<br> 334<br> 335<br> 336<br> 337<br> 338<br> 339<br> 340<br> 341<br> 342<br> 343<br> 344<br> 345<br> 346<br> 347<br> 348<br> 349<br> 350<br> 351<br> 352<br> 353<br> 354<br> 355<br> 356<br> 357<br> 358<br> 359<br> 360<br> 361<br> 362<br> 363<br> 364<br> 365<br> 366<br> 367<br> 368<br> 369<br> 370<br> 371<br> 372<br> 373<br> 374<br> 375<br> 376<br> 377<br> 378<br> 379<br> 380<br> 381<br> 382<br> 383<br> 384<br> 385<br> 386<br> 387<br> 388<br> 389<br> 390<br> 391<br> 392<br> 393<br> 394<br> 395<br> 396<br> 397<br> 398<br> 399<br> 400<br> 401<br> 402<br> 403<br> 404<br> 405<br> 406<br> 407<br> 408<br> 409<br> 410<br> 411<br> 412<br> 413<br> 414<br> 415<br> 416<br> 417<br> 418<br> 419<br> 420<br> 421<br> 422<br> 423<br> 424<br> 425<br> 426<br> 427<br> 428<br> 429<br> 430<br> 431<br> 432<br> 433<br> 434<br> 435<br> 436<br> 437<br> 438<br> 439<br> 440<br> 441<br> 442<br> 443<br> 444<br> 445<br> 446<br> 447<br> 448<br> 449<br> 450<br> 451<br> 452<br> 453<br> 454<br> 455<br> 456<br> 457<br> 458<br> 459<br> 460<br> 461<br> 462<br> 463<br> 464<br> 465<br> 466<br> 467<br> 468<br> 469<br> 470<br> 471<br> 472<br> 473<br> 474<br> 475<br> 476<br> 477<br> 478<br> 479<br> 480<br> 481<br> 482<br> 483<br> 484<br> 485<br> 486<br> 487<br> 488<br> 489<br> 490<br> 491<br> 492<br> 493<br> 494<br> 495<br> 496<br> 497<br> 498<br> 499<br> 500<br> 501<br> 502<br> 503<br> 504<br> 505<br> 506<br> 507<br> 508<br> 509<br> 510<br> 511<br> 512<br> 513<br> 514<br> 515<br> 516<br> 517<br> 518<br> 519<br> 520<br> 521<br> 522<br> 523<br> 524<br> 525<br> 526<br> 527<br> 528<br> 529<br> 530<br> 531<br> 532<br> 533<br> 534<br> 535<br> 536<br> 537<br> 538<br> 539<br> 540<br> 541<br> 542<br> 543<br> 544<br> 545<br> 546<br> 547<br> 548<br> 549<br> 550<br> 551<br> 552<br> 553<br> 554<br> 555<br> 556<br> 557<br> 558<br> 559<br> 560<br> 561<br> 562<br> 563<br> 564<br> 565<br> 566<br> 567<br> 568<br> 569<br> 570<br> 571<br> 572<br> 573<br> 574<br> 575<br> 576<br> 577<br> 578<br> 579<br> 580<br> 581<br> 582<br> 583<br> 584<br> 585<br> 586<br> 587<br> 588<br> 589<br> 590<br> 591<br> 592<br> 593<br> 594<br> 595<br> 596<br> 597<br> 598<br> 599<br> 600<br> 601<br> 602<br> 603<br> 604<br> 605<br> 606<br> 607<br> 608<br> 609<br> 610<br> 611<br> 612<br> 613<br> 614<br> 615<br> 616<br> 617<br> 618<br> 619<br> 620<br> 621<br> 622<br> 623<br> 624<br> 625<br> 626<br> 627<br> 628<br> 629<br> 630<br> 631<br> 632<br> 633<br> 634<br> 635<br> 636<br> 637<br> 638<br> 639<br> 640<br> 641<br> 642<br> 643<br> 644<br> 645<br> 646<br> 647<br> 648<br> 649<br> 650<br> 651<br> 652<br> 653<br> 654<br> 655<br> 656<br> 657<br> 658<br> 659<br> 660<br> 661<br> 662<br> 663<br> 664<br> 665<br> 666<br> 667<br> 668<br> 669<br> 670<br> 671<br> 672<br> 673<br> 674<br> 675<br> 676<br> 677<br> 678<br> 679<br> 680<br> 681<br> 682<br> 683<br> 684<br> 685<br> 686<br> 687<br> 688<br> 689<br> 690<br> 691<br> 692<br> 693<br> 694<br> 695<br> 696<br> 697<br> 698<br> 699<br> 700<br> 701<br> 702<br> 703<br> 704<br> 705<br> 706<br> 707<br> 708<br> 709<br> 710<br> 711<br> 712<br> 713<br> 714<br> 715<br> 716<br> 717<br> 718<br> 719<br> 720<br> 721<br> 722<br> 723<br> 724<br> 725<br> 726<br> 727<br> 728<br> 729<br> 730<br> 731<br> 732<br> 733<br> 734<br> 735<br> 736<br> 737<br> 738<br> 739<br> 740<br> 741<br> 742<br> 743<br> 744<br> 745<br> 746<br> 747<br> 748<br> 749<br> 750<br> 751<br> 752<br> 753<br> 754<br> 755<br> 756<br> 757<br> 758<br> 759<br> 760<br> 761<br> 762<br> 763<br> 764<br> 765<br> 766<br> 767<br> 768<br> 769<br> 770<br> 771<br> 772<br> 773<br> 774<br> 775<br> 776<br> 777<br> 778<br> 779<br> 780<br> 781<br> 782<br> 783<br> 784<br> 785<br> 786<br> 787<br> 788<br> 789<br> 790<br> 791<br> 792<br> 793<br> 794<br> 795<br> 796<br> 797<br> 798<br> 799<br> 800<br> 801<br> 802<br> 803<br> 804<br> 805<br> 806<br> 807<br> 808<br> 809<br> 810<br> 811<br> 812<br> 813<br> 814<br> 815<br> 816<br> 817<br> 818<br> 819<br> 820<br> 821<br> 822<br> 823<br> 824<br> 825<br> 826<br> 827<br> 828<br> 829<br> 830<br> 831<br> 832<br> 833<br> 834<br> 835<br> 836<br> 837<br> 838<br> 839<br> 840<br> 841<br> 842<br> 843<br> 844<br> 845<br> 846<br> 847<br> 848<br> 849<br> 850<br> 851<br> 852<br> 853<br> 854<br> 855<br> 856<br> 857<br> 858<br> 859<br> 860<br> 861<br> 862<br> 863<br> 864<br> 865<br> 866<br> 867<br> 868<br> 869<br> 870<br> 871<br> 872<br> 873<br> 874<br> 875<br> 876<br> 877<br> 878<br> 879<br> 880<br> 881<br> 882<br> 883<br> 884<br> 885<br> 886<br> 887<br> 888<br> 889<br> 890<br> 891<br> 892<br> 893<br> 894<br> 895<br> 896<br> 897<br> 898<br> 899<br> 900<br> 901<br> 902<br> 903<br> 904<br> 905<br> 906<br> 907<br> 908<br> 909<br> 910<br> 911<br> 912<br> 913<br> 914<br> 915<br> 916<br> 917<br> 918<br> 919<br> 920<br> 921<br> 922<br> 923<br> 924<br> 925<br> 926<br> 927<br> 928<br> 929<br> 930<br> 931<br> 932<br> 933<br> 934<br> 935<br> 936<br> 937<br> 938<br> 939<br> 940<br> 941<br> 942<br> 943<br> 944<br> 945<br> 946<br> 947<br> 948<br> 949<br> 950<br> 951<br> 952<br> 953<br> 954<br> 955<br> 956<br> 957<br> 958<br> 959<br> 960<br> 961<br> 962<br> 963<br> 964<br> 965<br> 966<br> 967<br> 968<br> 969<br> 970<br> 971<br> 972<br> 973<br> 974<br> 975<br> 976<br> 977<br> 978<br> 979<br> 980<br> 981<br> 982<br> 983<br> 984<br> 985<br> 986<br> 987<br> 988<br> 989<br> 990<br> 991<br> 992<br> 993<br> 994<br> 995<br> 996<br> 997<br> 998<br> 999<br>1000<br>1001<br>1002<br>1003<br>1004<br>1005<br>1006<br>1007<br>1008<br>1009<br>1010<br>1011<br>1012<br>1013<br>1014<br>1015<br>1016<br>1017<br>1018<br>1019<br>1020<br>1021<br>1022<br>1023<br>1024<br>1025<br>1026<br>1027<br>1028<br>1029<br>1030<br>1031<br>1032<br>1033<br>1034<br>1035<br>1036<br>1037<br>1038<br>1039<br>1040<br>1041<br>1042<br>1043<br>1044<br>1045<br>1046<br>1047<br>1048<br>1049<br>1050<br>1051<br>1052<br>1053<br>1054<br>1055<br>1056<br>1057<br>1058<br>1059<br>1060<br>1061<br>1062<br>1063<br>1064<br>1065<br>1066<br>1067<br>1068<br>1069<br>1070<br>1071<br>1072<br>1073<br>1074<br>1075<br>1076<br>1077<br>1078<br>1079<br>1080<br>1081<br>1082<br>1083<br>1084<br>1085<br>1086<br>1087<br>1088<br>1089<br>1090<br>1091<br>1092<br>1093<br>1094<br>1095<br>1096<br>1097<br>1098<br>1099<br>1100<br>1101<br>1102<br>1103<br>1104<br>1105<br>1106<br>1107<br>1108<br>1109<br>1110<br>1111<br>1112<br>1113<br>1114<br>1115<br>1116<br>1117<br>1118<br>1119<br>1120<br>1121<br>1122<br>1123<br>1124<br>1125<br>1126<br>1127<br>1128<br>1129<br>1130<br>1131<br>1132<br>1133<br>1134<br>1135<br>1136<br>1137<br>1138<br>1139<br>1140<br>1141<br>1142<br>1143<br>1144<br>1145<br>1146<br>1147<br>1148<br>1149<br>1150<br>1151<br>1152<br>1153<br>1154<br>1155<br>1156<br>1157<br>1158<br>1159<br>1160<br>1161<br>1162<br>1163<br>1164<br>1165<br>1166<br>1167<br>1168<br>1169<br>1170<br>1171<br>1172<br>1173<br>1174<br>1175<br>1176<br>1177<br>1178<br>1179<br>1180<br>1181<br>1182<br>1183<br>1184<br>1185<br>1186<br>1187<br>1188<br>1189<br>1190<br>1191<br>1192<br>1193<br>1194<br>1195<br>1196<br>1197<br>1198<br>1199<br>1200<br>1201<br>1202<br>1203<br>1204<br>1205<br>1206<br>1207<br>1208<br>1209<br>1210<br>1211<br>1212<br>1213<br>1214<br>1215<br>1216<br>1217<br>1218<br>1219<br>1220<br>1221<br>1222<br>1223<br>1224<br>1225<br>1226<br>1227<br>1228<br>1229<br>1230<br>1231<br>1232<br>1233<br>1234<br>1235<br>1236<br>1237<br>1238<br>1239<br>1240<br>1241<br>1242<br>1243<br>1244<br>1245<br>1246<br>1247<br>1248<br>1249<br>1250<br>1251<br>1252<br>1253<br>1254<br>1255<br>1256<br>1257<br>1258<br>1259<br>1260<br>1261<br>1262<br>1263<br>1264<br>1265<br>1266<br>1267<br>1268<br>1269<br>1270<br>1271<br>1272<br>1273<br>1274<br>1275<br>1276<br>1277<br>1278<br>1279<br>1280<br>1281<br>1282<br>1283<br>1284<br>1285<br>1286<br>1287<br>1288<br>1289<br>1290<br>1291<br>1292<br>1293<br>1294<br>1295<br>1296<br>1297<br>1298<br>1299<br>1300<br>1301<br>1302<br>1303<br>1304<br>1305<br>1306<br>1307<br>1308<br>1309<br>1310<br>1311<br>1312<br>1313<br>1314<br>1315<br>1316<br>1317<br>1318<br>1319<br>1320<br>1321<br>1322<br>1323<br>1324<br>1325<br>1326<br>1327<br>1328<br>1329<br>1330<br>1331<br>1332<br>1333<br>1334<br>1335<br>1336<br>1337<br>1338<br>1339<br>1340<br>1341<br>1342<br>1343<br>1344<br>1345<br>1346<br>1347<br>1348<br>1349<br>1350<br>1351<br>1352<br>1353<br>1354<br>1355<br>1356<br>1357<br>1358<br>1359<br>1360<br>1361<br>1362<br>1363<br>1364<br>1365<br>1366<br>1367<br>1368<br>1369<br>1370<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Taken from friss, which is licenced under the MIT licence<br><span class="linehead"> </span><span class="highlight tooltip"> * Modified by :Puck Meerburg, puck@puckipedia.nl, to allow printing to a string.<em>Line over 80 char</em></span><br><span class="linehead"> </span> * http:<span class="highlight tooltip">//p<em>Missing space at comment start</em></span>ulkomandy.t<span class="highlight tooltip">k/p<em>Missing space after operator</em></span>roject<span class="highlight tooltip">s/f<em>Missing space after operator</em></span>ris<span class="highlight tooltip">s/b<em>Missing space after operator</em></span>rowser<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "xmlnode.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;assert.h&gt;<br><span class="linehead"> </span>#include &lt;stdlib.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;File.h&gt;<br><span class="linehead"> </span>#include &lt;b<span class="highlight tooltip">e/s<em>Missing space after operator</em></span>uppor<span class="highlight tooltip">t/U<em>Missing space after operator</em></span>TF8.h&gt;<br><span class="linehead"> </span>//#define TRACE_XML<br><span class="linehead"> </span>#define XML_FUNC	3<br><span class="linehead"> </span><br><span class="linehead"> </span>#ifdef TRACE_XML<br><span class="linehead"> </span>	#define XPRINT( lvl, x ) <span class="highlight tooltip">if(<em>Missing space after control statement</em></span>lvl&gt;=XML_FUNC) printf x<br><span class="linehead"> </span>	#define myName			mName.String()<br><span class="linehead"> </span>#else<br><span class="linehead"> </span>	#define XPRINT( lvl, x )<br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><br><span class="linehead"> </span>#define SkipW( x ) 	while (x &amp;&amp; *x &amp;&amp; isspace(*x)) x++;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32	XmlNode::encoding = XML_ENCODING_NONE;<br><span class="linehead"> </span><br><span class="linehead"> </span>XmlNode::XmlNode(XmlNode* parent, const char* name) :<br><span class="linehead"> </span>	mName(name),<br><span class="linehead"> </span>	mData(""),<br><span class="linehead"> </span>	fCdata(false)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	mParent	= parent;<br><span class="linehead"> </span>	mType	= XML_TYPE_SINGLE;<br><span class="linehead"> </span><br><span class="linehead"> </span>	p = NULL;	<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>XmlNode::XmlNode(const char* buf, XmlNode* parent) :<br><span class="linehead"> </span>	mName(""),<br><span class="linehead"> </span>	mData(""),<br><span class="linehead"> </span>	fCdata(false),<br><span class="linehead"> </span>	mChild(20, false)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	mParent	= parent;<br><span class="linehead"> </span>	mType	= XML_TYPE_NODE;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	p = NULL;	<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// root object does not parse itself;<br><span class="linehead"> </span>	while (buf &amp;&amp; *buf) {<br><span class="linehead"> </span>		SkipW( buf );<br><span class="linehead"> </span>		XmlNode* c = new XmlNode(this);<br><span class="linehead"> </span>		mChild.AddItem(c);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		buf = c-&gt;Parse(buf);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (!buf) {<br><span class="linehead"> </span>		XPRINT(0,("Parse error\n"));<br><span class="linehead"> </span>	} else<br><span class="linehead"> </span>		XPRINT(0,("XmlNode(bu<span class="highlight tooltip">f,p<em>Missing space after operator</em></span>arent): ok\n"));<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlNode::XmlNode(BMessage<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>archive) :<br><span class="linehead"> </span>	mName(""),<br><span class="linehead"> </span><span class="highlight tooltip">   <em>Spaces instead of tabs</em></span> fCdata(false),<br><span class="linehead"> </span>	mData("")<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	// Init<br><span class="linehead"> </span>	mParent = NULL;<br><span class="linehead"> </span>	mType	= XML_TYPE_SIMPLE;<br><span class="linehead"> </span>	p = NULL;	<br><span class="linehead"> </span><br><span class="linehead"> </span>	// auspacken:<br><span class="linehead"> </span>	archive-&gt;FindString("name", &amp;mName);<br><span class="linehead"> </span>	archive-&gt;FindString("data", &amp;mData);<br><span class="linehead"> </span>	archive-&gt;FindInt32("type", (int32*)&amp;mType);<br><span class="linehead"> </span><br><span class="linehead"> </span>	// Parent wird von aussen gesetzt, hier nur default:<br><span class="linehead"> </span>	mParent = NULL;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	int a = archive-&gt;FindInt32("attributes");<br><span class="linehead"> </span>	int c = archive-&gt;FindInt32("children");<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>		XmlNode* n = new XmlNode(this);<br><span class="linehead"> </span>		n-&gt;mType = XML_TYPE_SIMPLE;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (archive-&gt;FindString("attr_n", i, &amp;n-&gt;mName) == B_OK<br><span class="linehead"> </span>		&amp;&amp;	archive-&gt;FindString("attr_v", i, &amp;n-&gt;mData) == B_OK) {<br><span class="linehead"> </span>			mAttribute.AddItem(n);<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span><br><span class="linehead"> </span>			delete n;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;c; i++) {<br><span class="linehead"> </span>		BMessage msg;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (archive-&gt;FindMessage("child", i, &amp;msg) == B_OK) {		<br><span class="linehead"> </span>			XmlNode* node = new XmlNode(&amp;msg);<br><span class="linehead"> </span>			AddChild(node);<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	<span class="highlight tooltip">//e<em>Missing space at comment start</em></span>ncoding = <br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlNode::XmlNode(const XmlNode&amp; source)<br><span class="linehead"> </span><span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> : fCdata(false),<br><span class="linehead"> </span>	mName(source.Name())<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	mParent = source.mParent;<br><span class="linehead"> </span><br><span class="linehead"> </span>	mType = source.mType;<br><span class="linehead"> </span>	mData = source.mData;<br><span class="linehead"> </span><br><span class="linehead"> </span>	for (int i = 0, a = source.mAttribute.CountItems(); i&lt;a; i++) {<br><span class="linehead"> </span>		XmlNode* child = new XmlNode(*(XmlNode*)source.mAttribute.ItemAt(i));<br><span class="linehead"> </span>		mAttribute.AddItem(child);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>, <span class="highlight tooltip">c=s<em>Missing space after operator</em></span>ource.mChild.CountItems(); i&lt;c; i++) {<br><span class="linehead"> </span>		XmlNode* child = new XmlNode(*(XmlNode*)source.mChild.ItemAt(i));<br><span class="linehead"> </span>		AddChild(child);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlNode&amp; XmlNode::operator=(const XmlNode&amp; source)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	mParent = source.mParent;<br><span class="linehead"> </span>	mName = source.mName;<br><span class="linehead"> </span><br><span class="linehead"> </span>	mType = source.mType;<br><span class="linehead"> </span>	mData = source.mData;<br><span class="linehead"> </span><br><span class="linehead"> </span>	RemoveAllAttributes();<br><span class="linehead"> </span>	RemoveAllChildren();<br><span class="linehead"> </span><br><span class="linehead"> </span>	for (int i = 0, a = source.mAttribute.CountItems(); i&lt;a; i++) {<br><span class="linehead"> </span>		XmlNode* child = new XmlNode(*(XmlNode*)source.mAttribute.ItemAt(i));<br><span class="linehead"> </span>		mAttribute.AddItem(child);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>, <span class="highlight tooltip">c=s<em>Missing space after operator</em></span>ource.mChild.CountItems(); i&lt;c; i++) {<br><span class="linehead"> </span>		XmlNode* child = new XmlNode(*(XmlNode*)source.mChild.ItemAt(i));<br><span class="linehead"> </span>		AddChild(child);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	return<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>this;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>status_t<br><span class="linehead"> </span>XmlNode::Archive(BMessage<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>msg, bool deep) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	if (!msg)<br><span class="linehead"> </span>		return B_ERROR;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	msg-&gt;AddString("class", "XmlNode");<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	msg-&gt;AddString("name", mName.String());<br><span class="linehead"> </span>	msg-&gt;AddInt32("type", mType);<br><span class="linehead"> </span>	msg-&gt;AddString("data", mData.String());<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	int a = Attributes(), c = mChild.CountItems();<br><span class="linehead"> </span>	msg-&gt;AddInt32("attributes", a);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>		XmlNode* n = (XmlNode*)mAttribute.ItemAt(i);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (!n)<br><span class="linehead"> </span>			return B_ERROR;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		const char* strName = n-&gt;Name();	// "version"<br><span class="linehead"> </span>		msg-&gt;AddString("attr_n", strName);  <br><span class="linehead"> </span>		<br><span class="linehead"> </span>		const char* strVal = n-&gt;Value();	// NULL<br><span class="linehead"> </span>		msg-&gt;AddString("attr_v", strVal);<span class="highlight tooltip">   <em>Spaces instead of tabs</em></span>// crasht hier!<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (deep) {<br><span class="linehead"> </span>		msg-&gt;AddInt32("children", c);<br><span class="linehead"> </span>		for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;c; i++) {<br><span class="linehead"> </span>			BMessage* childmsg = new BMessage;<br><span class="linehead"> </span>			XmlNode* n = (XmlNode*)mChild.ItemAt(i);<br><span class="linehead"> </span><br><span class="linehead"> </span>			if (!n)<br><span class="linehead"> </span>				return B_ERROR;			<br><span class="linehead"> </span>			<br><span class="linehead"> </span>			if (n-&gt;Archive(childmsg, deep) == B_OK)<br><span class="linehead"> </span>				msg-&gt;AddMessage("child", childmsg);<br><span class="linehead"> </span>			else<br><span class="linehead"> </span>				return B_ERROR;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	<span class="highlight tooltip">}<br><span class="linehead"> </span>	else<em>Malformed else</em></span><br><span class="linehead"> </span>		msg-&gt;AddInt32("children", 0);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return B_OK;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>BArchivable <span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::Instantiate(BMessage<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>data)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	if (!validate_instantiation(data, "XmlNode"))<br><span class="linehead"> </span>		return NULL;<br><span class="linehead"> </span>	return new XmlNode(data);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlNode::~XmlNode()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	// Detach from parent<br><span class="linehead"> </span>	if (mParent) {<br><span class="linehead"> </span>		mParent-&gt;RemoveChild(this);<br><span class="linehead"> </span>		mParent = NULL;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	// clean up lists and delete children<br><span class="linehead"> </span>	RemoveAllAttributes();<br><span class="linehead"> </span>	RemoveAllChildren();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// finally, remove from parent:<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::Name() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return mName.String();<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::SetName(const char* name)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	mName = name;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>// FIXME Type() is not OOP !<br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>XmlNode::Type() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return mType;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>const BString<span class="highlight tooltip">&amp;<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::Value() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return mData;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>int<br><span class="linehead"> </span>XmlNode::ValueAsInt() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	// FIXME Kind is not OOP<br><span class="linehead"> </span>	if (mType == XML_TYPE_SINGLE)<br><span class="linehead"> </span>		return atoi(mData.String());<br><span class="linehead"> </span>	else<br><span class="linehead"> </span>		return 0;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>XmlNode<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::Parent() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return mParent;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::SetValue(const BString&amp; value)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	if (mType == XML_TYPE_SINGLE)<br><span class="linehead"> </span>		mData = value;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions > 2</em></span><br><span class="linehead"> </span>// ---------------------------------------------------------------------<span class="highlight tooltip">-<em>Operator at line end</em></span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>XmlNode::Attributes() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return mAttribute.CountItems();<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::AttributeKey(int32 index) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	if (index&lt;0 || index&gt;=mAttribute.CountItems())<br><span class="linehead"> </span>		return NULL;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	XmlNode* n = (XmlNode*)mAttribute.ItemAt(index);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	return n-&gt;mName.String();<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::Attribute(int32 index) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	if (index&lt;0 || index&gt;=mAttribute.CountItems())<br><span class="linehead"> </span>		return NULL;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	XmlNode* n = (XmlNode*)mAttribute.ItemAt(index);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	return n-&gt;mData.String();<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::Attribute(const char* key) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	uint32 index = IndexOfAttribute(key);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (index == XMLNODE_NONE)<br><span class="linehead"> </span>		return NULL;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return Attribute(index);<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>int<br><span class="linehead"> </span>XmlNode::AttributeAsInt(const char* key, int defaultValue) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	const char<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>val = Attribute(key);<br><span class="linehead"> </span>	if (!val)<br><span class="linehead"> </span>		return defaultValue;<br><span class="linehead"> </span>	else<br><span class="linehead"> </span>		return atoi(val);<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>bool<br><span class="linehead"> </span>XmlNode::AttributeAsBool(const char* key, bool defaultValue) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	const char<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>val = Attribute(key);<br><span class="linehead"> </span>	if (!val)<br><span class="linehead"> </span>		return defaultValue;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	BString t(val);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (t.ICompare("true")==0 || t.ICompare("yes")==0 || t.ICompare("1")==0)<br><span class="linehead"> </span>		return true;<br><span class="linehead"> </span><br><span class="linehead"> </span>	return false;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions > 2</em></span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlNode::AddAttribute(const char* name, const char* value)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	if (!name || !value) return;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	int32 a = mAttribute.CountItems();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	XmlNode* n = NULL;<br><span class="linehead"> </span>	bool found = false;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// first check own children	<br><span class="linehead"> </span>	for (int32 <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>		n = (XmlNode*)mAttribute.ItemAt(i);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (n-&gt;mName.ICompare(name)==0) {<br><span class="linehead"> </span>			found = true;<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (found) {<br><span class="linehead"> </span>		n-&gt;mData.SetTo(value);<br><span class="linehead"> </span>	<span class="highlight tooltip">}<br><span class="linehead"> </span>	else<em>Malformed else</em></span> {<br><span class="linehead"> </span>		XmlNode* node = new XmlNode(NULL, name);<br><span class="linehead"> </span>		node-&gt;mType = XML_TYPE_SIMPLE;<br><span class="linehead"> </span>		node-&gt;mData = value;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		mAttribute.AddItem(node);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::AddAttribute(const char* name, int value)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString temp;<br><span class="linehead"> </span>	temp &lt;&lt; value;<br><span class="linehead"> </span>	AddAttribute(name, temp.String());<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>status_t<br><span class="linehead"> </span>XmlNode::RemoveAttribute(uint32 index)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	if (index &gt;= (uint32)mAttribute.CountItems())<br><span class="linehead"> </span>		return B_BAD_INDEX;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	XmlNode* node = (XmlNode*)mAttribute.RemoveItem(index);<br><span class="linehead"> </span>	delete node;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return B_OK;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>status_t<br><span class="linehead"> </span>XmlNode::RemoveAttribute(const char* key)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	uint32 idx = IndexOfAttribute(key);<br><span class="linehead"> </span>	if (idx != XMLNODE_NONE)<br><span class="linehead"> </span>		return RemoveAttribute(idx);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return B_NAME_NOT_FOUND;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::RemoveAllAttributes()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	void* attr;<br><span class="linehead"> </span>	for (int32 <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; (attr = mAttribute.ItemAt(i)); i++)<br><span class="linehead"> </span>		delete static_cast&lt;XmlNode*&gt;(attr);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	mAttribute.MakeEmpty();<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>uint32<br><span class="linehead"> </span>XmlNode::IndexOfAttribute(const char* name) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	int32 a = mAttribute.CountItems();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	for (int32 <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>		XmlNode* n = (XmlNode*)mAttribute.ItemAt(i);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (n-&gt;mName.ICompare(name)==0)<br><span class="linehead"> </span>			return i;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return XMLNODE_NONE;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>// ---------------------------------------------------------------------<span class="highlight tooltip">-<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>XmlNode::Children() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return mChild.CountItems();<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::AddChild(XmlNode* Child, int pos)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	if (!Child)<br><span class="linehead"> </span>		return;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	Child-&gt;mParent = this;<br><span class="linehead"> </span>	mType	= XML_TYPE_NODE;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (pos &gt;= 0 &amp;&amp; pos &lt; mChild.CountItems())<br><span class="linehead"> </span>		mChild.AddItem(Child, pos);<br><span class="linehead"> </span>	else	<br><span class="linehead"> </span>		mChild.AddItem(Child);<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::RemoveChild(uint32 index)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	mChild.RemoveItemAt(index);<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::RemoveChild(XmlNode* me)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	assert(me-&gt;mParent == this);<br><span class="linehead"> </span>	mChild.RemoveItem(me);<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::RemoveAllChildren()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	<span class="highlight tooltip">while(<em>Missing space after control statement</em></span>Children() &gt; 0)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		XmlNode* child = mChild.ItemAt(0);<br><span class="linehead"> </span>		assert(child-&gt;mParent == this);<br><span class="linehead"> </span>		delete child; // removes itself from the list<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>XmlNode<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::DetachChild(uint32 index)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	uint32 anz = mChild.CountItems();<br><span class="linehead"> </span>	if (index &gt;= anz)<br><span class="linehead"> </span>		return NULL;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	XmlNode* node = (XmlNode*)mChild.ItemAt(index);<br><span class="linehead"> </span>	assert(node-&gt;mParent == this);<br><span class="linehead"> </span>	node-&gt;mParent = NULL;<br><span class="linehead"> </span>	mChild.RemoveItem(node);<br><span class="linehead"> </span>	return node;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>XmlNode<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::ItemAt(uint32 index) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return (XmlNode*)mChild.ItemAt(index);<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>uint32<br><span class="linehead"> </span>XmlNode::IndexOf(XmlNode* child) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span><br><span class="linehead"> </span>	for (int a = mChild.CountItems(), <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>		if (mChild.ItemAt(i) == child) {<br><span class="linehead"> </span>			assert(child-&gt;mParent == this);<br><span class="linehead"> </span>			return i;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return XMLNODE_NONE;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>XmlNode<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::FindChild(const char* name, XmlNode* prev, bool recursive)<br><span class="linehead"> </span>{<br><span class="linehead"> </span><span class="highlight tooltip">	XPRINT(1,("XmlNode::FindChild(%s,%i,%i) within '%s'\n", name, (prev!=NULL), (recursive), myName ));<em>Line over 80 char</em></span><br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (prev &amp;&amp; recursive) {<br><span class="linehead"> </span>		XPRINT(1,("XmlNode::FindChild(). Can't FindNext recursivly!\n"));<br><span class="linehead"> </span>		return NULL;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	/<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>	int32 a = mChild.CountItems();<br><span class="linehead"> </span>	int32 b = 0;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (prev) {<br><span class="linehead"> </span>		b = mChild.IndexOf(prev);<br><span class="linehead"> </span>		XPRINT(1,("Prev: %p = #%li\n", prev, b));<br><span class="linehead"> </span>		if (b&lt;0) {<br><span class="linehead"> </span>			XPRINT(1, ("Xml: There is no such predecessor!\n"));<br><span class="linehead"> </span>			return NULL;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		// not actual, but next:<br><span class="linehead"> </span>		b++;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// first check own children	<br><span class="linehead"> </span>	for (int32 <span class="highlight tooltip">i=b<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>		XmlNode* n = ItemAt(i);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		XPRINT(1,("Teste Kind #%li (%s)\n",<span class="highlight tooltip">i,n<em>Missing space after operator</em></span>-&gt;Name() ));<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (n-&gt;mName.Compare(name)==0)<br><span class="linehead"> </span>			return n;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span><br><span class="linehead"> </span>	// check greatchildren<br><span class="linehead"> </span>	if (recursive) {<br><span class="linehead"> </span>		XPRINT(1,("Going recursive...\n"));<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		for (int32 <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>			XmlNode* n = ItemAt(i);<br><span class="linehead"> </span>			XPRINT(1,("Verzweige zu %li (%s)\n",<span class="highlight tooltip">i,n<em>Missing space after operator</em></span>-&gt;Name() ));<br><span class="linehead"> </span>			<br><span class="linehead"> </span>			n = n-&gt;FindChild(nam<span class="highlight tooltip">e,N<em>Missing space after operator</em></span>UL<span class="highlight tooltip">L,t<em>Missing space after operator</em></span>rue);<br><span class="linehead"> </span>			if (n)<br><span class="linehead"> </span>				return n;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// no matching child found<br><span class="linehead"> </span>	return NULL;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::Parse(const char* buf)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	SkipW(buf);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	if (!buf || !*buf) {<br><span class="linehead"> </span>		XPRINT(2,("Xp: 1"));<br><span class="linehead"> </span>		return NULL;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (*buf=='&lt;') {<br><span class="linehead"> </span>		// New tag<br><span class="linehead"> </span>	<br><span class="linehead"> </span>		if (*(bu<span class="highlight tooltip">f+1<em>Missing space after operator</em></span>)=='!') {<br><span class="linehead"> </span>			if (*(bu<span class="highlight tooltip">f+2<em>Missing space after operator</em></span>)=='-' &amp;&amp; *(bu<span class="highlight tooltip">f+3<em>Missing space after operator</em></span>)=='-') {<br><span class="linehead"> </span>				XPRINT(2,("comment"));<br><span class="linehead"> </span>				p = bu<span class="highlight tooltip">f+4<em>Missing space after operator</em></span>;<br><span class="linehead"> </span>				buf+=5;<br><span class="linehead"> </span>				while (*buf &amp;&amp; !(*buf=='&gt;' &amp;&amp; *(bu<span class="highlight tooltip">f-1<em>Missing space after operator</em></span>)=='-' &amp;&amp; *(bu<span class="highlight tooltip">f-2<em>Missing space after operator</em></span>)=='-'))<br><span class="linehead"> </span>					buf++;<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				mType = XML_TYPE_COMMENT;<br><span class="linehead"> </span>				SetName("");<br><span class="linehead"> </span>				mData.SetTo(<span class="highlight tooltip">p,b<em>Missing space after operator</em></span>u<span class="highlight tooltip">f-p<em>Missing space after operator</em></span>-3);<br><span class="linehead"> </span>				return bu<span class="highlight tooltip">f+1<em>Missing space after operator</em></span>;<br><span class="linehead"> </span>			<span class="highlight tooltip">}<br><span class="linehead"> </span>			else<em>Malformed else</em></span> if (memcmp(buf,"&lt;![CDATA[",9)==0) {<br><span class="linehead"> </span>				XPRINT(2,("CDATA"));<br><span class="linehead"> </span>				p = bu<span class="highlight tooltip">f+9<em>Missing space after operator</em></span>;<br><span class="linehead"> </span>				buf+=5;<br><span class="linehead"> </span>				while (*buf &amp;&amp; !(*(bu<span class="highlight tooltip">f-2<em>Missing space after operator</em></span>)==']' &amp;&amp; *(bu<span class="highlight tooltip">f-1<em>Missing space after operator</em></span>)==']' &amp;&amp; *(buf)=='&gt;'))<br><span class="linehead"> </span>					buf++;<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				mType = XML_TYPE_STRING;<br><span class="linehead"> </span>				SetName("CDATA");<br><span class="linehead"> </span>				mData.SetTo(<span class="highlight tooltip">p,b<em>Missing space after operator</em></span>u<span class="highlight tooltip">f-p<em>Missing space after operator</em></span>-2);<br><span class="linehead"> </span>				return bu<span class="highlight tooltip">f+1<em>Missing space after operator</em></span>;<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>		}	<br><span class="linehead"> </span>	<br><span class="linehead"> </span>		XPRINT(2,("New Item to cat '%s'\n",mParent-&gt;myName));<br><span class="linehead"> </span><br><span class="linehead"> </span>		mType = XML_TYPE_NODE;<br><span class="linehead"> </span>		buf++;<br><span class="linehead"> </span>		p = buf;<br><span class="linehead"> </span>		while (*buf &amp;&amp; (*buf!='&gt;' &amp;&amp; *buf!=' ' &amp;&amp; *buf!='\n'))<br><span class="linehead"> </span>			buf++;<br><span class="linehead"> </span>		if (!*buf) {<br><span class="linehead"> </span>			XPRINT(2,("Xp: 2"));<br><span class="linehead"> </span>			return NULL;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		mName.SetTo(<span class="highlight tooltip">p,b<em>Missing space after operator</em></span>u<span class="highlight tooltip">f-p<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>		mName.RemoveAll("\r");<br><span class="linehead"> </span>		XPRINT(2,("New Item is '%s'\n", myName ));<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		int attrs = 0;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (*buf!='&gt;') {<br><span class="linehead"> </span>			// attributes!<br><span class="linehead"> </span>			int brs = 1;<br><span class="linehead"> </span>			// skip attributes (for now)<br><span class="linehead"> </span>			p = buf;<br><span class="linehead"> </span>			while (*buf) {<br><span class="linehead"> </span>				if (*buf=='&lt;')<br><span class="linehead"> </span>					brs++;<br><span class="linehead"> </span>				else <span class="highlight tooltip">if(<em>Missing space after control statement</em></span> *buf=='&gt;' ) {<br><span class="linehead"> </span>					brs--;<br><span class="linehead"> </span>					if (br<span class="highlight tooltip">s==0<em>Missing space after operator</em></span>)<br><span class="linehead"> </span>						break;<br><span class="linehead"> </span>				}<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				buf++;<br><span class="linehead"> </span>			}<br><span class="linehead"> </span><br><span class="linehead"> </span>			if (!*buf) {<br><span class="linehead"> </span>				XPRINT(2,("Xp: 3"));<br><span class="linehead"> </span>				return NULL;<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			<br><span class="linehead"> </span>			BString d;<br><span class="linehead"> </span>			d.SetTo(<span class="highlight tooltip">p,b<em>Missing space after operator</em></span>u<span class="highlight tooltip">f-p<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>			attrs = ParseAttributes( d.String() );<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (*(bu<span class="highlight tooltip">f-1<em>Missing space after operator</em></span>)=='/') {<br><span class="linehead"> </span>			if (*(buf) &amp;&amp; *(buf)=='&gt;') {<br><span class="linehead"> </span>				XPRINT(2,("Single Item"));<br><span class="linehead"> </span>				mType = XML_TYPE_SINGLE;<br><span class="linehead"> </span>				return bu<span class="highlight tooltip">f+1<em>Missing space after operator</em></span>;<br><span class="linehead"> </span>			<span class="highlight tooltip">}<br><span class="linehead"> </span>			else<em>Malformed else</em></span><br><span class="linehead"> </span>				return NULL;<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span> // &gt;<br><span class="linehead"> </span>			buf++;<br><span class="linehead"> </span><br><span class="linehead"> </span>		// Special tags:		<br><span class="linehead"> </span>		if (mName.Compare("?xml",4)==0) {<br><span class="linehead"> </span>			mType = XML_TYPE_SINGLE;<br><span class="linehead"> </span>			mData = "";<br><span class="linehead"> </span>			<br><span class="linehead"> </span>			if (attr<span class="highlight tooltip">s&gt;0<em>Missing space after operator</em></span>) {<br><span class="linehead"> </span>				const char* encstr = Attribute("encoding");;<br><span class="linehead"> </span>				// shortcut:<br><span class="linehead"> </span>				if (!encstr)<br><span class="linehead"> </span>					return buf;<br><span class="linehead"> </span><br><span class="linehead"> </span>				// yes, we have an encoding string<br><span class="linehead"> </span>				<span class="highlight tooltip">//p<em>Missing space at comment start</em></span>rintf("Document encoding is '%s'\n",encstr);<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				BString d(encstr);<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				<span class="highlight tooltip">//p<em>Missing space at comment start</em></span>rintf("Encoding is %s\n", encstr);<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				if (d.ICompare("is<span class="highlight tooltip">o-8<em>Missing space after operator</em></span>859-",9)==0) {<br><span class="linehead"> </span>					int mode = atoi(encst<span class="highlight tooltip">r+9<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>					<span class="highlight tooltip">//p<em>Missing space at comment start</em></span>rintf("That makes IS<span class="highlight tooltip">O-8<em>Missing space after operator</em></span>859-'%d'\n", mode);<br><span class="linehead"> </span>					if (mode&lt;11)<br><span class="linehead"> </span>						encoding = B_ISO1_CONVERSION + mode - 1;<br><span class="linehead"> </span>					else if (mod<span class="highlight tooltip">e&gt;1<em>Missing space after operator</em></span>2)<br><span class="linehead"> </span>						encoding = B_ISO13_CONVERSION + mode - 13;<br><span class="linehead"> </span>					else<br><span class="linehead"> </span>						encoding = XML_ENCODING_NONE;					<br><span class="linehead"> </span>				<span class="highlight tooltip">}<br><span class="linehead"> </span>				else<em>Malformed else</em></span> if (d.ICompare("EU<span class="highlight tooltip">C-J<em>Missing space after operator</em></span>P")==0)<br><span class="linehead"> </span>					encoding = B_EUC_CONVERSION;<br><span class="linehead"> </span>				else if (d.ICompare("EU<span class="highlight tooltip">C-K<em>Missing space after operator</em></span>R")==0)<br><span class="linehead"> </span>					encoding = B_EUC_KR_CONVERSION;					<br><span class="linehead"> </span>				else if (d.ICompare("Shift_JIS")==0)<br><span class="linehead"> </span>					encoding = B_SJIS_CONVERSION;					<br><span class="linehead"> </span>				else if (d.ICompare("window<span class="highlight tooltip">s-1<em>Missing space after operator</em></span>252")==0)<br><span class="linehead"> </span>					encoding = B_MS_WINDOWS_CONVERSION;<br><span class="linehead"> </span>				else <br><span class="linehead"> </span>					encoding = XML_ENCODING_NONE;<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				<span class="highlight tooltip">//p<em>Missing space at comment start</em></span>rintf("Var encoding set to: %d\n", encoding);<br><span class="linehead"> </span>				<span class="highlight tooltip">//B<em>Missing space at comment start</em></span>_SJIS_CONVERSION<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>						<br><span class="linehead"> </span>			return buf;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (mName.Compare("!DOCTYPE",4)==0) {<br><span class="linehead"> </span>			mType = XML_TYPE_SINGLE;<br><span class="linehead"> </span>			mData = "";<br><span class="linehead"> </span>			return buf;<br><span class="linehead"> </span>		}		<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		// add children if any<br><span class="linehead"> </span>		SkipW(buf);<br><span class="linehead"> </span>		while (*buf &amp;&amp; *(bu<span class="highlight tooltip">f+1<em>Missing space after operator</em></span>) &amp;&amp; !(*buf=='&lt;' &amp;&amp; *(bu<span class="highlight tooltip">f+1<em>Missing space after operator</em></span>)=='/')) {<br><span class="linehead"> </span>			XmlNode* c = new XmlNode(this);<br><span class="linehead"> </span>			mChild.AddItem(c);<br><span class="linehead"> </span>			<br><span class="linehead"> </span>			buf = c-&gt;Parse(buf);<br><span class="linehead"> </span>			if (!buf) {<br><span class="linehead"> </span>				return NULL;<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			SkipW(buf);<br><span class="linehead"> </span>			XPRINT(2,("This item '%s' has now %li children\n", myName, Children() ));<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (!buf || !*buf || !*(bu<span class="highlight tooltip">f+1<em>Missing space after operator</em></span>)) {<br><span class="linehead"> </span>			XPRINT(2,("Xp: Parse Error (77)"));<br><span class="linehead"> </span>			return NULL;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		XPRINT(2,("Done children for %s\n", myName));<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (Children() == 0) {<br><span class="linehead"> </span>			mType = XML_TYPE_SINGLE;<br><span class="linehead"> </span>			mData = "";<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span> if (Children() == 1) {<br><span class="linehead"> </span>			// Merge<br><span class="linehead"> </span>			XmlNode* c = (XmlNode*)mChild.ItemAt((int32)0);<br><span class="linehead"> </span>			if (c-&gt;mType == XML_TYPE_STRING) {<br><span class="linehead"> </span>				XPRINT(2,("Merged Strin<span class="highlight tooltip">g-C<em>Missing space after operator</em></span>hild into parent\n"));<br><span class="linehead"> </span>				mData = c-&gt;mData;<br><span class="linehead"> </span>				delete c;<br><span class="linehead"> </span>				mChild.MakeEmpty();<br><span class="linehead"> </span>				mType = XML_TYPE_SINGLE;<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span> {<br><span class="linehead"> </span>		}<br><span class="linehead"> </span><br><span class="linehead"> </span>		// lazy find end of closing tag:<br><span class="linehead"> </span>		p = buf;<br><span class="linehead"> </span>		while (*buf &amp;&amp; *buf!='&gt;')<br><span class="linehead"> </span>			buf++;<br><span class="linehead"> </span>		if (!*buf) {<br><span class="linehead"> </span>			XPRINT(2,("Xp: 4\n"));<br><span class="linehead"> </span>			return NULL;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		buf++;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		XPRINT(2,("End of new Item '%s'\n", myName));<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		SkipW(buf);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		// this node is done.<br><span class="linehead"> </span>	<span class="highlight tooltip">}<br><span class="linehead"> </span>	else<em>Malformed else</em></span> {<br><span class="linehead"> </span>		XPRINT(2,("New String: "));<br><span class="linehead"> </span>		mType = XML_TYPE_STRING;<br><span class="linehead"> </span>		p = buf;<br><span class="linehead"> </span>		while (*buf &amp;&amp; (*buf!='&lt;'))<br><span class="linehead"> </span>			buf++;<br><span class="linehead"> </span>		if (!*buf) {<br><span class="linehead"> </span>			XPRINT(2,("Xp: 4\n"));<br><span class="linehead"> </span>			return NULL;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		int32 len = bu<span class="highlight tooltip">f-p<em>Missing space after operator</em></span>;<br><span class="linehead"> </span>		<br><span class="linehead"> </span><br><span class="linehead"> </span>		mData.SetTo(<span class="highlight tooltip">p,l<em>Missing space after operator</em></span>en);<br><span class="linehead"> </span>		mData.ReplaceAll('\n', ' ');<br><span class="linehead"> </span>		mData.RemoveAll("\r");<br><span class="linehead"> </span>		mData.ReplaceAll('\t', ' ');<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		while (mData.FindFirst("  ")!=B_ERROR)<br><span class="linehead"> </span>			mData.ReplaceAll("  ", " ");<br><span class="linehead"> </span><br><span class="linehead"> </span>#ifndef OPTIONS_NO_CHARSET_CONVERSION<br><span class="linehead"> </span>		int32 targetlen = <span class="highlight tooltip">2*l<em>Missing space after operator</em></span>en;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (encoding!=XML_ENCODING_NONE) {<br><span class="linehead"> </span>			char* buf = (char*)malloc( targetlen );<br><span class="linehead"> </span>			int32 state = 0;<br><span class="linehead"> </span><span class="highlight tooltip">			if (convert_to_utf8( encoding, mData.String(), &amp;len, buf, &amp;targetlen, &amp;state ) == B_OK) {<em>Line over 80 char</em></span><br><span class="linehead"> </span>				mData.SetTo(bu<span class="highlight tooltip">f,t<em>Missing space after operator</em></span>argetlen);<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			free(buf);<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>#endif<br><span class="linehead"> </span>		// Replace the remaining HTM<span class="highlight tooltip">L-e<em>Missing space after operator</em></span>ntities:<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;quot;", "\"");<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;#039;", "'");<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;lt;", "&lt;");<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;gt;", "&gt;");<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;apos;", "'");<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;nbsp;", "\xC2\xA0");<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;#228;", "ä");	// Danke an SWR3<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;#246;", "ö");<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;#252;", "ü");<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;#223;", "ß");<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;#196;", "Ä");	// Golem...<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;#214;", "Ö");<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;#220;", "Ü");<br><span class="linehead"> </span>	<br><span class="linehead"> </span>		int nextOffset = -1;<br><span class="linehead"> </span>		<span class="highlight tooltip">while(<em>Missing space after control statement</em></span>(nextOffset = mData.FindFirst("&amp;#", nextOffset + 1)) != B_ERROR)<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			char dest[5];<br><span class="linehead"> </span>			char source[8];<br><span class="linehead"> </span>			strncpy(source, mData.String() + nextOffset, 7);<br><span class="linehead"> </span>			source[7] = 0;<br><span class="linehead"> </span>			uint32_t codepoint = strtol(mData.String() + nextOffset + 2,<br><span class="linehead"> </span>					NULL, 10);<br><span class="linehead"> </span><br><span class="linehead"> </span>			<span class="highlight tooltip">if(<em>Missing space after control statement</em></span>codepoint &lt; 0x80)<br><span class="linehead"> </span>			{<br><span class="linehead"> </span>				dest[0] = codepoint;<br><span class="linehead"> </span>				dest[1] = 0;<br><span class="linehead"> </span>			} else <span class="highlight tooltip">if(<em>Missing space after control statement</em></span>codepoint &lt; 0x800) {<br><span class="linehead"> </span>				dest[0] = (codepoint &gt;&gt; 6  &amp; 0x1F) | 0xC0;<br><span class="linehead"> </span>				dest[1] = (codepoint &amp; 0x3F) | 0x80;<br><span class="linehead"> </span>				dest[2] = 0;<br><span class="linehead"> </span>			} else <span class="highlight tooltip">if(<em>Missing space after control statement</em></span>codepoint &lt; 0x010000) {<br><span class="linehead"> </span>				dest[0] = (codepoint &gt;&gt; 12  &amp; 0xF) | 0xE0;<br><span class="linehead"> </span>				dest[1] = (codepoint &gt;&gt; 6  &amp; 0x3F) | 0x80;<br><span class="linehead"> </span>				dest[2] = (codepoint &amp; 0x3F) | 0x80;<br><span class="linehead"> </span>				dest[3] = 0;<br><span class="linehead"> </span>			} else {<br><span class="linehead"> </span>				dest[0] = (codepoint &gt;&gt; 18  &amp; 0x7) | 0xF0;<br><span class="linehead"> </span>				dest[1] = (codepoint &gt;&gt; 12  &amp; 0x3F) | 0x80;<br><span class="linehead"> </span>				dest[2] = (codepoint &gt;&gt; 6  &amp; 0x3F) | 0x80;<br><span class="linehead"> </span>				dest[3] = (codepoint &amp; 0x3F) | 0x80;<br><span class="linehead"> </span>				dest[4] = 0;<br><span class="linehead"> </span>			}<br><span class="linehead"> </span><br><span class="linehead"> </span>			mData.ReplaceAll(source, dest);<br><span class="linehead"> </span><br><span class="linehead"> </span>		}<br><span class="linehead"> </span><br><span class="linehead"> </span>		// VERY LAST ONE:<br><span class="linehead"> </span>		mData.ReplaceAll("&amp;amp;", "&amp;");		// does not work always...<br><span class="linehead"> </span><br><span class="linehead"> </span>		// this node is done.<br><span class="linehead"> </span>		XPRINT(2,("'%s'\n", mData.String() ));<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// done:	<br><span class="linehead"> </span>	return buf;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlNode::Display() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	Display(0);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>// cases to check for:<br><span class="linehead"> </span>// 1.<span class="highlight tooltip">   <em>Spaces instead of tabs</em></span>ke<span class="highlight tooltip">y=v<em>Missing space after operator</em></span>alue<br><span class="linehead"> </span>// 2.<span class="highlight tooltip">   <em>Spaces instead of tabs</em></span>key="value"<br><span class="linehead"> </span>// 3.<span class="highlight tooltip">   <em>Spaces instead of tabs</em></span>key='value'<br><span class="linehead"> </span>// 4.	key<br><span class="linehead"> </span>// keys will be XmlNodes with Type XML_TYPE_SIMPLE.<br><span class="linehead"> </span>// key =&gt; Name()<br><span class="linehead"> </span>// value =&gt; Value()<br><span class="linehead"> </span>int<br><span class="linehead"> </span>XmlNode::ParseAttributes(const char* buf)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	XPRINT( 3, ("Parse Attribute zu item '%s'\n", myName) );<br><span class="linehead"> </span><br><span class="linehead"> </span>	int anz = 0;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	const char* p;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	SkipW(buf);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	while (*buf &amp;&amp; *buf!='?') {<br><span class="linehead"> </span>		XPRINT( 3, ("Neues Attribut\n") );<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		<span class="highlight tooltip">p=b<em>Missing space after operator</em></span>uf;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		// find key<br><span class="linehead"> </span>		while (*buf &amp;&amp; !(*buf=='=' || *buf==' ' || *buf=='?'))<br><span class="linehead"> </span>			buf++;<br><span class="linehead"> </span>			<br><span class="linehead"> </span>		if (!*buf) {<br><span class="linehead"> </span>			return B_ERROR;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		XmlNode* attr = new XmlNode(this);<br><span class="linehead"> </span>		attr-&gt;mType = XML_TYPE_SIMPLE;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		attr-&gt;mName.SetTo(<span class="highlight tooltip">p,b<em>Missing space after operator</em></span>u<span class="highlight tooltip">f-p<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>		XPRINT( 3, ("  Attr.Name = '%s'\n", attr-&gt;mName.String() ) );<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (*buf == '=') {<br><span class="linehead"> </span>			buf++; // skip <span class="highlight tooltip">=<em>Operator at line end</em></span><br><span class="linehead"> </span>			<br><span class="linehead"> </span>			if (*buf=='\"' || *buf=='\'') {<br><span class="linehead"> </span>				char esc = *buf;<br><span class="linehead"> </span>				buf++;<br><span class="linehead"> </span>			<br><span class="linehead"> </span>				<span class="highlight tooltip">p=b<em>Missing space after operator</em></span>uf;<br><span class="linehead"> </span>				while (*buf &amp;&amp; *buf!=esc)<br><span class="linehead"> </span>					buf++;<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				if (!*buf) {<br><span class="linehead"> </span>					delete attr;<br><span class="linehead"> </span>					return B_ERROR;<br><span class="linehead"> </span>				}<br><span class="linehead"> </span>			<br><span class="linehead"> </span>				attr-&gt;mData.SetTo(<span class="highlight tooltip">p,b<em>Missing space after operator</em></span>u<span class="highlight tooltip">f-p<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>				<br><span class="linehead"> </span>				// finally skip quot<span class="highlight tooltip">e-c<em>Missing space after operator</em></span>har:<br><span class="linehead"> </span>				buf++;<br><span class="linehead"> </span>			<span class="highlight tooltip">}<br><span class="linehead"> </span>			else<em>Malformed else</em></span> {<br><span class="linehead"> </span>				<span class="highlight tooltip">p=b<em>Missing space after operator</em></span>uf;<br><span class="linehead"> </span>				while (*buf &amp;&amp; !(*buf==' ' || *buf=='?'))<br><span class="linehead"> </span>					buf++;<br><span class="linehead"> </span><br><span class="linehead"> </span>				if (!*buf) {<br><span class="linehead"> </span>					delete attr;<br><span class="linehead"> </span>					return B_ERROR;<br><span class="linehead"> </span>				}	<br><span class="linehead"> </span><br><span class="linehead"> </span>				attr-&gt;mData.SetTo(<span class="highlight tooltip">p,b<em>Missing space after operator</em></span>u<span class="highlight tooltip">f-p<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			<br><span class="linehead"> </span>			attr-&gt;mData.ReplaceAll("&amp;amp;", "&amp;");<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span><br><span class="linehead"> </span>			XPRINT( 3, ("  Attr.Value ist leer.\n") );<br><span class="linehead"> </span><br><span class="linehead"> </span>		mAttribute.AddItem(attr);<br><span class="linehead"> </span>		anz++;<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		SkipW(buf);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return anz;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions > 2</em></span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlNode::Display(int level) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>;i&lt;leve<span class="highlight tooltip">l;i<em>Missing space after operator</em></span>++)<br><span class="linehead"> </span>		printf("\t");<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	<span class="highlight tooltip">switch(<em>Missing space after control statement</em></span>mType)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		case XML_TYPE_NODE:<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			if (Attributes()==0)<br><span class="linehead"> </span>				printf("&lt;%s&gt;\n", mName.String() );<br><span class="linehead"> </span>			else {<br><span class="linehead"> </span>				printf("&lt;%s\n", mName.String() );<br><span class="linehead"> </span><br><span class="linehead"> </span>				for (int32 <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>, <span class="highlight tooltip">a=A<em>Missing space after operator</em></span>ttributes();i&lt;<span class="highlight tooltip">a;i<em>Missing space after operator</em></span>++) {<br><span class="linehead"> </span>					for (int t<span class="highlight tooltip">i=0<em>Missing space after operator</em></span>;ti&lt;leve<span class="highlight tooltip">l+1<em>Missing space after operator</em></span>;ti++)<br><span class="linehead"> </span>						printf("\t");<br><span class="linehead"> </span><br><span class="linehead"> </span>					XmlNode* n = (XmlNode*)mAttribute.ItemAt(i);<br><span class="linehead"> </span>					printf("%s = %s\n", n-&gt;Name(), n-&gt;Value().String());<br><span class="linehead"> </span>				}<br><span class="linehead"> </span>				for (int t<span class="highlight tooltip">i=0<em>Missing space after operator</em></span>;ti&lt;leve<span class="highlight tooltip">l;t<em>Missing space after operator</em></span>i++) printf("\t");<br><span class="linehead"> </span>				printf("&gt;\n");<br><span class="linehead"> </span>			}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>			for (int32 <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>, <span class="highlight tooltip">a=C<em>Missing space after operator</em></span>hildren();i&lt;<span class="highlight tooltip">a;i<em>Missing space after operator</em></span>++)<br><span class="linehead"> </span>				ItemAt(i)-&gt;Display(leve<span class="highlight tooltip">l+1<em>Missing space after operator</em></span>);<br><span class="linehead"> </span><br><span class="linehead"> </span>			for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>;i&lt;leve<span class="highlight tooltip">l;i<em>Missing space after operator</em></span>++)<br><span class="linehead"> </span>				printf("\t");<br><span class="linehead"> </span>			printf("&lt;/%s&gt;\n", mName.String() );<br><span class="linehead"> </span><br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		case XML_TYPE_SINGLE:<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			if (Attributes()==0)<br><span class="linehead"> </span>				printf("&lt;%s", mName.String() );<br><span class="linehead"> </span>			else {<br><span class="linehead"> </span>				printf("&lt;%s\n", mName.String() );<br><span class="linehead"> </span><br><span class="linehead"> </span>				for (int32 <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>, <span class="highlight tooltip">a=A<em>Missing space after operator</em></span>ttributes();i&lt;<span class="highlight tooltip">a;i<em>Missing space after operator</em></span>++) {<br><span class="linehead"> </span>					for (int t<span class="highlight tooltip">i=0<em>Missing space after operator</em></span>;ti&lt;leve<span class="highlight tooltip">l+1<em>Missing space after operator</em></span>;ti++) printf("\t");<br><span class="linehead"> </span><br><span class="linehead"> </span>					XmlNode* n = (XmlNode*)mAttribute.ItemAt(i);<br><span class="linehead"> </span>					printf("%s = %s\n", n-&gt;Name(), n-&gt;Value().String());<br><span class="linehead"> </span>				}<br><span class="linehead"> </span>				for (int t<span class="highlight tooltip">i=0<em>Missing space after operator</em></span>;ti&lt;leve<span class="highlight tooltip">l;t<em>Missing space after operator</em></span>i++) printf("\t");<br><span class="linehead"> </span>			}<br><span class="linehead"> </span><br><span class="linehead"> </span>			if (mData.Length()&gt;0)<br><span class="linehead"> </span>				printf("&gt;%s&lt;/%s&gt;\n", mData.String(), mName.String() );<br><span class="linehead"> </span>			else<br><span class="linehead"> </span>				printf("/&gt;\n");<br><span class="linehead"> </span><br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span><br><span class="linehead"> </span>		case XML_TYPE_STRING:<br><span class="linehead"> </span>			puts(mData.String());<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		case XML_TYPE_COMMENT:<br><span class="linehead"> </span>			printf("&lt;!--|%s|--&gt;\n", mData.String() );<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>void<br><span class="linehead"> </span>XmlNode::SetCdata(bool cData)<br><span class="linehead"> </span>{<br><span class="linehead"> </span><span class="highlight tooltip">   <em>Spaces instead of tabs</em></span> fCdata = cData;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>bool<br><span class="linehead"> </span>XmlNode::SaveToFile(const char* filename) const<br><span class="linehead"> </span>{	<br><span class="linehead"> </span>	int ref = creat(filename, 0666);<br><span class="linehead"> </span>	if (ref &lt; 0) {<br><span class="linehead"> </span>		perror("open");<br><span class="linehead"> </span>		return false;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString dummy("&lt;?xml version=\"1.0\" encoding=\"ut<span class="highlight tooltip">f-8<em>Missing space after operator</em></span>\" ?&gt;\n\n");<br><span class="linehead"> </span>	write(ref, dummy.String(), dummy.Length());<br><span class="linehead"> </span><br><span class="linehead"> </span>	int c = Children();	<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;c; i++) {<br><span class="linehead"> </span>		ItemAt(i)-&gt;SaveNode(ref, 0);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	<span class="highlight tooltip">//d<em>Missing space at comment start</em></span>ummy = "&lt;/xml&gt;\n";<br><span class="linehead"> </span>	<span class="highlight tooltip">//w<em>Missing space at comment start</em></span>rite(ref, dummy.String(), dummy.Length());<br><span class="linehead"> </span><br><span class="linehead"> </span>	close(ref);<br><span class="linehead"> </span>	return true;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>BString <span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::SavetoString() const<br><span class="linehead"> </span>{<br><span class="linehead"> </span><span class="highlight tooltip">   <em>Spaces instead of tabs</em></span> BString<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>dummy = new BString("&lt;?xml version=\"1.0\"?&gt;\n");<br><span class="linehead"> </span>	int c = Children();	<br><span class="linehead"> </span>	printf("I have %d children", c);<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;c; i++) {<br><span class="linehead"> </span><span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> ItemAt(i)-&gt;SaveString(dummy, 0);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	return dummy;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>//#define TabS( depth ) s.Prepend( '\t', depth )<br><span class="linehead"> </span><br><span class="linehead"> </span>bool<br><span class="linehead"> </span>XmlNode::SaveString(BString<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>str, int depth) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>s = str; 			// s is reused later!<br><span class="linehead"> </span>/<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>	if (mType == XML_TYPE_COMMENT) {<br><span class="linehead"> </span><span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> *s &lt;&lt; "&lt;!-- " &lt;&lt; mData.String() &lt;&lt; " --&gt;";<br><span class="linehead"> </span><br><span class="linehead"> </span>		return true;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	// Name<br><span class="linehead"> </span>	*s &lt;&lt; "&lt;" &lt;&lt; Name();<br><span class="linehead"> </span><br><span class="linehead"> </span>	// attributes<br><span class="linehead"> </span>	int a = Attributes();<br><span class="linehead"> </span>	if (<span class="highlight tooltip">a&gt;0<em>Missing space after operator</em></span>) {<br><span class="linehead"> </span>		for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>			XmlNode<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>aa = (XmlNode*)mAttribute.ItemAt(i);<br><span class="linehead"> </span>			*s &lt;&lt; " ";<br><span class="linehead"> </span>			*s &lt;&lt; aa-&gt;Name() &lt;&lt; "=\"" &lt;&lt; aa-&gt;Value() &lt;&lt; "\"";<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// Traverse children<br><span class="linehead"> </span>	if (mType == XML_TYPE_NODE) {<br><span class="linehead"> </span>	<br><span class="linehead"> </span>		int c = Children();<br><span class="linehead"> </span>		if (<span class="highlight tooltip">c==0<em>Missing space after operator</em></span>) {<br><span class="linehead"> </span>	<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> *s &lt;&lt; " /&gt;";<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span> {<br><span class="linehead"> </span>	<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> *s &lt;&lt; "&gt;";<br><span class="linehead"> </span>			<br><span class="linehead"> </span>			for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;c; i++) {<br><span class="linehead"> </span>		<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> ItemAt(i)-&gt;SaveString(str, dept<span class="highlight tooltip">h+1<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>			// closing tag:<br><span class="linehead"> </span>			<span class="highlight tooltip">//T<em>Missing space at comment start</em></span>abS(depth);<br><span class="linehead"> </span>			*s &lt;&lt; "&lt;/" &lt;&lt; Name() &lt;&lt; "&gt;";<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	<span class="highlight tooltip">}<br><span class="linehead"> </span>	else<em>Malformed else</em></span> if (mType == XML_TYPE_SINGLE) {<br><span class="linehead"> </span>		if (mData.Length()==0) {<br><span class="linehead"> </span>	<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> *s &lt;&lt; " /&gt;\n";<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span> {<br><span class="linehead"> </span>	<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> *s &lt;&lt; "&gt;";<br><span class="linehead"> </span>	<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> <span class="highlight tooltip">if(<em>Missing space after control statement</em></span>fCdata)<br><span class="linehead"> </span>			*s &lt;&lt; "&lt;![CDATA[";<br><span class="linehead"> </span>	<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> *s &lt;&lt; mData.String();<br><span class="linehead"> </span>	<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> <span class="highlight tooltip">if(<em>Missing space after control statement</em></span>fCdata)<br><span class="linehead"> </span>			*s &lt;&lt; "]]&gt;";<br><span class="linehead"> </span>	<span class="highlight tooltip">	   <em>Mixed tabs/spaces + Spaces instead of tabs</em></span> *s &lt;&lt; "&lt;/" &lt;&lt; mName.String() &lt;&lt; "&gt;";<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return true;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>#define TabS(a)<br><span class="linehead"> </span>bool<br><span class="linehead"> </span>XmlNode::SaveNode(int ref, int depth) const<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString s; 			// s is reused later!<br><span class="linehead"> </span>	TabS(depth);<br><span class="linehead"> </span><br><span class="linehead"> </span>	if (mType == XML_TYPE_COMMENT) {<br><span class="linehead"> </span>		s &lt;&lt; "&lt;!-- " &lt;&lt; mData.String() &lt;&lt; " --&gt;\n";<br><span class="linehead"> </span>		write(ref, s.String(), s.Length());<br><span class="linehead"> </span><br><span class="linehead"> </span>		return true;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	// Name<br><span class="linehead"> </span>	s &lt;&lt; "&lt;" &lt;&lt; Name();<br><span class="linehead"> </span>	write(ref, s.String(), s.Length());	<br><span class="linehead"> </span><br><span class="linehead"> </span>	// attributes<br><span class="linehead"> </span>	int a = Attributes();<br><span class="linehead"> </span>	if (<span class="highlight tooltip">a&gt;0<em>Missing space after operator</em></span>) {<br><span class="linehead"> </span>		for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;a; i++) {<br><span class="linehead"> </span>			XmlNode<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>aa = (XmlNode*)mAttribute.ItemAt(i);<br><span class="linehead"> </span>			s = " ";<br><span class="linehead"> </span>			s &lt;&lt; aa-&gt;Name() &lt;&lt; "=\"" &lt;&lt; aa-&gt;Value() &lt;&lt; "\"";<br><span class="linehead"> </span>			write(ref, s.String(), s.Length());	<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// Traverse children<br><span class="linehead"> </span>	if (mType == XML_TYPE_NODE) {<br><span class="linehead"> </span>	<br><span class="linehead"> </span>		int c = Children();<br><span class="linehead"> </span>		if (<span class="highlight tooltip">c==0<em>Missing space after operator</em></span>) {<br><span class="linehead"> </span>			s = " /&gt;\n";<br><span class="linehead"> </span>			write(ref, s.String(), s.Length());<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span> {<br><span class="linehead"> </span>			s = "&gt;\n";<br><span class="linehead"> </span>			write(ref, s.String(), s.Length());<br><span class="linehead"> </span>			<br><span class="linehead"> </span>			for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;c; i++) {<br><span class="linehead"> </span>				ItemAt(i)-&gt;SaveNode(ref, dept<span class="highlight tooltip">h+1<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>			// closing tag:<br><span class="linehead"> </span>			s.SetTo("");<br><span class="linehead"> </span>			TabS(depth);<br><span class="linehead"> </span>			s &lt;&lt; "&lt;/" &lt;&lt; Name() &lt;&lt; "&gt;\n";<br><span class="linehead"> </span>			write(ref, s.String(), s.Length());<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	<span class="highlight tooltip">}<br><span class="linehead"> </span>	else<em>Malformed else</em></span> if (mType == XML_TYPE_SINGLE) {<br><span class="linehead"> </span>		if (mData.Length()==0) {<br><span class="linehead"> </span>			s = " /&gt;\n";<br><span class="linehead"> </span>			write(ref, s.String(), s.Length());<br><span class="linehead"> </span>		<span class="highlight tooltip">}<br><span class="linehead"> </span>		else<em>Malformed else</em></span> {<br><span class="linehead"> </span>			s = "&gt;";<br><span class="linehead"> </span>			s &lt;&lt; mData.String() &lt;&lt; "&lt;/" &lt;&lt; mName.String() &lt;&lt; "&gt;\n";<br><span class="linehead"> </span>			write(ref, s.String(), s.Length());<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	return true;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>bool<br><span class="linehead"> </span>XmlNode::LoadFile(const char* filename)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	printf("Loading file: %s\n", filename);<br><span class="linehead"> </span><br><span class="linehead"> </span>	// convert filename into actual handle<br><span class="linehead"> </span>	BEntry entry(filename, true);<br><span class="linehead"> </span>	BFile node(&amp;entry, B_READ_ONLY);<br><span class="linehead"> </span>	if (node.InitCheck() != B_OK)<br><span class="linehead"> </span>		return false;<br><span class="linehead"> </span><br><span class="linehead"> </span>	int filesize;<br><span class="linehead"> </span>	node.GetSize((off_t*)&amp;filesize);<br><span class="linehead"> </span>	char<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>bbuf = (char*)calloc(<span class="highlight tooltip">1,f<em>Missing space after operator</em></span>ilesiz<span class="highlight tooltip">e+1<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		<br><span class="linehead"> </span>	if (node.Read(bbuf, filesize) &lt; filesize) {<br><span class="linehead"> </span>		node.Unset();<br><span class="linehead"> </span>		free(bbuf);<br><span class="linehead"> </span>		return false;<br><span class="linehead"> </span>	}		<br><span class="linehead"> </span>	node.Unset();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	puts("File loaded to buffer");<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	const char* buf = bbuf;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	mType	= XML_TYPE_NODE;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// root object does not parse itself;<br><span class="linehead"> </span>	while (buf &amp;&amp; *buf) {<br><span class="linehead"> </span>		SkipW( buf );<br><span class="linehead"> </span>		XmlNode* c = new XmlNode(this);<br><span class="linehead"> </span>		mChild.AddItem(c);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		buf = c-&gt;Parse(buf);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	free(bbuf);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	if (!buf) {<br><span class="linehead"> </span>		puts("parse error");<br><span class="linehead"> </span>		return false;<br><span class="linehead"> </span>	<span class="highlight tooltip">}<br><span class="linehead"> </span>	else<em>Malformed else</em></span> {<br><span class="linehead"> </span>		puts("XmlNode::Load: ok");<br><span class="linehead"> </span>		return true;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions > 2</em></span><br><span class="linehead"> </span>XmlNode<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::GetChild(const char* path)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString d(path);<br><span class="linehead"> </span>	BString e(path);<br><span class="linehead"> </span>	bool recurse = false;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	int n = d.FindFirst('/');<br><span class="linehead"> </span>	if (n != B_ERROR) {<br><span class="linehead"> </span>		e.Remove(n, e.Length()-n);<br><span class="linehead"> </span>		d.Remove(<span class="highlight tooltip">0,n<em>Missing space after operator</em></span>+1);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		recurse = true;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	int anz = Children();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;anz; i++) {<br><span class="linehead"> </span>		XmlNode* node = ItemAt(i);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (e.Compare(node-&gt;Name())==0) {<br><span class="linehead"> </span>			if (recurse)<br><span class="linehead"> </span>				return node-&gt;GetChild(d.String());<br><span class="linehead"> </span>			else<br><span class="linehead"> </span>				return node;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	// no matching child:	<br><span class="linehead"> </span>	return NULL;<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span>	<br><span class="linehead"> </span><em>Lines between functions < 2</em></span>XmlNode<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::CreateChild(const char* path, const char* value)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString d(path);<br><span class="linehead"> </span>	BString e(path);<br><span class="linehead"> </span>	bool recurse = false;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	int n = d.FindFirst('/');<br><span class="linehead"> </span>	if (n != B_ERROR) {<br><span class="linehead"> </span>		e.Remove(n, e.Length()-n);<br><span class="linehead"> </span>		d.Remove(<span class="highlight tooltip">0,n<em>Missing space after operator</em></span>+1);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		recurse = true;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	int anz = Children();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	for (int <span class="highlight tooltip">i=0<em>Missing space after operator</em></span>; i&lt;anz; i++) {<br><span class="linehead"> </span>		XmlNode* node = ItemAt(i);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (e.Compare(node-&gt;Name())==0) {<br><span class="linehead"> </span>			if (recurse)<br><span class="linehead"> </span>				return node-&gt;CreateChild(d.String(), value);<br><span class="linehead"> </span>			else {<br><span class="linehead"> </span>				if (value)<br><span class="linehead"> </span>					node-&gt;SetValue(value);<br><span class="linehead"> </span>				return node;<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>	}<br><span class="linehead"> </span><br><span class="linehead"> </span>	// no matching child:	<br><span class="linehead"> </span>	if (recurse) {<br><span class="linehead"> </span>		XmlNode* node = new XmlNode(this, e.String());<br><span class="linehead"> </span>		AddChild(node);<br><span class="linehead"> </span><br><span class="linehead"> </span>		return node-&gt;CreateChild(d.String(), value);<br><span class="linehead"> </span>	<span class="highlight tooltip">}<br><span class="linehead"> </span>	else<em>Malformed else</em></span> {<br><span class="linehead"> </span>		XmlNode* node = new XmlNode(this, path);<br><span class="linehead"> </span>		AddChild(node);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		if (value)<br><span class="linehead"> </span>			node-&gt;SetValue(value);<br><span class="linehead"> </span>		<br><span class="linehead"> </span>		return node;<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span><br><span class="linehead"> </span><em>Lines between functions < 2</em></span>XmlNode<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlNode::CreateChild(const char* path, int value)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString temp;<br><span class="linehead"> </span>	temp &lt;&lt; value;<br><span class="linehead"> </span>	return CreateChild(path, temp.String());<br><span class="linehead"> </span>}<span class="highlight tooltip"><br><span class="linehead"> </span>	<br><span class="linehead"> </span><em>Lines between functions < 2</em></span>bool<br><span class="linehead"> </span>XmlNode::RemoveChild(const char* path)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	assert(false);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlNode::Comment(const char* commentstring)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	RemoveAllChildren();<br><span class="linehead"> </span>	RemoveAllAttributes();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	mType = XML_TYPE_COMMENT;<br><span class="linehead"> </span>	mData = commentstring;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePlugins/WordpressPlugin/xmlnode.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br> 132<br> 133<br> 134<br> 135<br> 136<br> 137<br> 138<br> 139<br> 140<br> 141<br> 142<br> 143<br> 144<br> 145<br> 146<br> 147<br> 148<br> 149<br> 150<br> 151<br> 152<br> 153<br> 154<br> 155<br> 156<br> 157<br> 158<br> 159<br> 160<br> 161<br> 162<br> 163<br> 164<br> 165<br> 166<br> 167<br> 168<br> 169<br> 170<br> 171<br> 172<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Taken from friss, which is licenced under the MIT licence<br><span class="linehead"> </span> * Modified by :Puck Meerburg, to allow printing to a string.<br><span class="linehead"> </span> * http:<span class="highlight tooltip">//p<em>Missing space at comment start</em></span>ulkomandy.t<span class="highlight tooltip">k/p<em>Missing space after operator</em></span>roject<span class="highlight tooltip">s/f<em>Missing space after operator</em></span>ris<span class="highlight tooltip">s/b<em>Missing space after operator</em></span>rowser<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef XMLNODE<br><span class="linehead"> </span>#define	XMLNODE<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;stdio.h&gt;<br><span class="linehead"> </span>#include &lt;cctype&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;b<span class="highlight tooltip">e/A<em>Missing space after operator</em></span>ppKit.h&gt;<br><span class="linehead"> </span>#include &lt;b<span class="highlight tooltip">e/I<em>Missing space after operator</em></span>nterfaceKit.h&gt;<br><span class="linehead"> </span>#include &lt;b<span class="highlight tooltip">e/S<em>Missing space after operator</em></span>upportKit.h&gt;<br><span class="linehead"> </span>#include &lt;ObjectList.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>// NODEs have children<br><span class="linehead"> </span>// SINGLEs have a Value()<br><span class="linehead"> </span>// STRINGs are handled internally<br><span class="linehead"> </span>#define XML_TYPE_NODE		0<br><span class="linehead"> </span>#define XML_TYPE_SINGLE		1<br><span class="linehead"> </span>#define XML_TYPE_SIMPLE		1<br><span class="linehead"> </span>#define XML_TYPE_STRING		2<br><span class="linehead"> </span>#define XML_TYPE_COMMENT	3<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#define XML_ENCODING_NONE	0xFFFFFFFF<br><span class="linehead"> </span><br><span class="linehead"> </span>#define XMLNODE_NONE		0xFFFFFFFF<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>class XmlNode: public BArchivable<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	// empty node with name<br><span class="linehead"> </span>	XmlNode(XmlNode* parent, const char* name = "");	<br><span class="linehead"> </span>	XmlNode(BMessage<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>archive);<br><span class="linehead"> </span><br><span class="linehead"> </span>	// build tree from already loaded file:<br><span class="linehead"> </span>	XmlNode(const char* buf, XmlNode* parent);	<br><span class="linehead"> </span><br><span class="linehead"> </span>	XmlNode(const XmlNode&amp; other);<br><span class="linehead"> </span><br><span class="linehead"> </span>	XmlNode&amp; operator=(const XmlNode&amp; other);<br><span class="linehead"> </span><br><span class="linehead"> </span>	static BArchivable* Instatiate(BMessage* msg);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	status_t				Archive(BMessage<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>msg, bool deep = true) const;<br><span class="linehead"> </span>	static	BArchivable*	Instantiate(BMessage<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>data);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	virtual ~XmlNode();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	void					SetMarked(bool mar<span class="highlight tooltip">k=t<em>Missing space after operator</em></span>rue);<br><span class="linehead"> </span>	bool					Marked();<br><span class="linehead"> </span><br><span class="linehead"> </span>	// <br><span class="linehead"> </span>	const char* Name() const;<br><span class="linehead"> </span>	void SetName(const char* name);<br><span class="linehead"> </span>	uint32 Type() const;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	XmlNode*	Parent() const;<br><span class="linehead"> </span><span class="highlight tooltip">   <em>Spaces instead of tabs</em></span> void SetCdata(bool cdata);<br><span class="linehead"> </span>	const BString&amp; Value() const;<br><span class="linehead"> </span>	int			ValueAsInt() const;<br><span class="linehead"> </span>	void SetValue(const BString&amp; value);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// Attributes:<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	uint32		Attributes() const;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	void		AddAttribute(const char* name, const char* value);<br><span class="linehead"> </span>	void		AddAttribute(const char* name, int value);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	uint32		IndexOfAttribute(const char* name) const;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	status_t	RemoveAttribute(uint32 index);<br><span class="linehead"> </span>	status_t	RemoveAttribute(const char* key);<br><span class="linehead"> </span>	void		RemoveAllAttributes();<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	const char*	Attribute(const char* key) const;<br><span class="linehead"> </span>	int			AttributeAsInt(const char* key, int defaultValu<span class="highlight tooltip">e=0<em>Missing space after operator</em></span>) const;<br><span class="linehead"> </span>	bool		AttributeAsBool(const char* key, bool defaultValu<span class="highlight tooltip">e=f<em>Missing space after operator</em></span>alse) const;<br><span class="linehead"> </span><br><span class="linehead"> </span>	const char*	Attribute(int32 index) const;<br><span class="linehead"> </span>	<span class="highlight tooltip">//i<em>Missing space at comment start</em></span>nt			AttributeAsInt(uint32 index, int defaultValu<span class="highlight tooltip">e=0<em>Missing space after operator</em></span>) const;<br><span class="linehead"> </span>	<span class="highlight tooltip">//b<em>Missing space at comment start</em></span>ool		AttributeAsBool(uint32 index, bool defaultValu<span class="highlight tooltip">e=f<em>Missing space after operator</em></span>alse) const;<br><span class="linehead"> </span><br><span class="linehead"> </span>	const char*	AttributeKey(int32 index) const;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>	void		SetAttribute(const char* key, const char* value);<br><span class="linehead"> </span>	*<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>	<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// Children:<br><span class="linehead"> </span>	uint32		Children() const;<br><span class="linehead"> </span>	void		AddChild(XmlNode* Child, int pos=-1);<br><span class="linehead"> </span>	<span class="highlight tooltip">//v<em>Missing space at comment start</em></span>oid 		InsertChild(XmlNode* Child, int po<span class="highlight tooltip">s=0<em>Missing space after operator</em></span>);<br><span class="linehead"> </span>	void		RemoveChild(uint32 index);<br><span class="linehead"> </span>	void		RemoveChild(XmlNode* node);<br><span class="linehead"> </span>	void		RemoveAllChildren();<br><span class="linehead"> </span>	<span class="highlight tooltip">//X<em>Missing space at comment start</em></span>mlNode*	DetachChild(uint32 index);<br><span class="linehead"> </span>	<span class="highlight tooltip">//X<em>Missing space at comment start</em></span>mlNode*	DetachChild(XmlNode* node);<br><span class="linehead"> </span>	XmlNode*	ItemAt(uint32 index) const;<br><span class="linehead"> </span>	uint32		IndexOf(XmlNode* child) const;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// Find a child matching 'name'<br><span class="linehead"> </span><span class="highlight tooltip">	// You can specify a child in this list for FindNext functionality OR search recursivly;<em>Line over 80 char</em></span><br><span class="linehead"> </span>	XmlNode*	FindChild(const char* name, XmlNode* pre<span class="highlight tooltip">v=N<em>Missing space after operator</em></span>ULL, bool recursiv<span class="highlight tooltip">e=f<em>Missing space after operator</em></span>alse);<br><span class="linehead"> </span><br><span class="linehead"> </span>	// get child by path. returns NULL if not found.<br><span class="linehead"> </span>	XmlNode*	GetChild(const char* path);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// If Child does not exist, it will be created<br><span class="linehead"> </span>	XmlNode*	CreateChild(const char* path, const char* valu<span class="highlight tooltip">e=N<em>Missing space after operator</em></span>ULL);<br><span class="linehead"> </span>	XmlNode*	CreateChild(const char* path, int value);	<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	bool		RemoveChild(const char* path);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	XmlNode*	DetachChild(uint32 index);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	const char*	Parse(const char* buf);<br><span class="linehead"> </span><br><span class="linehead"> </span>public:	<br><span class="linehead"> </span>	void Display() const;<br><span class="linehead"> </span>private:<br><span class="linehead"> </span><span class="highlight tooltip">   <em>Spaces instead of tabs</em></span> bool fCdata;<br><span class="linehead"> </span>	void Display(int level) const;<br><span class="linehead"> </span>public:	<br><span class="linehead"> </span><br><span class="linehead"> </span><span class="highlight tooltip">	// saves this node and its children to the specified file, producing a valid XML-file<em>Line over 80 char + Missing space after operator</em></span><br><span class="linehead"> </span>	bool		SaveToFile(const char* filename) const;<br><span class="linehead"> </span><span class="highlight tooltip">   <em>Spaces instead of tabs</em></span> BString<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>SavetoString() const;<br><span class="linehead"> </span>protected:<br><span class="linehead"> </span><span class="highlight tooltip">	// internal: Save this node and its children, does not output header and footer, use SaveToFile instead!<em>Line over 80 char</em></span><br><span class="linehead"> </span><span class="highlight tooltip">   <em>Spaces instead of tabs</em></span> bool SaveString(BString<span class="highlight tooltip"> *<em>Bad pointer/reference style</em></span>str, int depth) const;<br><span class="linehead"> </span>	bool		SaveNode(int ref, int depth) const;<br><span class="linehead"> </span><br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	bool		LoadFile(const char* filename);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// conveniance function<br><span class="linehead"> </span>	// turns this node into a comment: &lt;!-- commentstring --&gt;<br><span class="linehead"> </span>	// only useful for new nodes<br><span class="linehead"> </span>	void		Comment(const char* commentstring);<br><span class="linehead"> </span>	<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	// parses a given string and adds it to the attribute list<br><span class="linehead"> </span>	int			ParseAttributes(const char* b);<br><span class="linehead"> </span><br><span class="linehead"> </span>	// pointer for parser:<br><span class="linehead"> </span>	const char*	p;<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString		mName;<br><span class="linehead"> </span>	uint32		mType;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	BString		mData;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	XmlNode*	mParent;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	BList		mAttribute;<br><span class="linehead"> </span>	BObjectList&lt;XmlNode&gt; mChild;<br><span class="linehead"> </span>	<br><span class="linehead"> </span>	// for convert_to_utf8, values declared in &lt;b<span class="highlight tooltip">e/s<em>Missing space after operator</em></span>uppor<span class="highlight tooltip">t/U<em>Missing space after operator</em></span>TF8.h&gt;<br><span class="linehead"> </span>	static uint32	encoding;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePlugins/WordpressPlugin/XmlRpcWrapper.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br> 132<br> 133<br> 134<br> 135<br> 136<br> 137<br> 138<br> 139<br> 140<br> 141<br> 142<br> 143<br> 144<br> 145<br> 146<br> 147<br> 148<br> 149<br> 150<br> 151<br> 152<br> 153<br> 154<br> 155<br> 156<br> 157<br> 158<br> 159<br> 160<br> 161<br> 162<br> 163<br> 164<br> 165<br> 166<br> 167<br> 168<br> 169<br> 170<br> 171<br> 172<br> 173<br> 174<br> 175<br> 176<br> 177<br> 178<br> 179<br> 180<br> 181<br> 182<br> 183<br> 184<br> 185<br> 186<br> 187<br> 188<br> 189<br> 190<br> 191<br> 192<br> 193<br> 194<br> 195<br> 196<br> 197<br> 198<br> 199<br> 200<br> 201<br> 202<br> 203<br> 204<br> 205<br> 206<br> 207<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "XmlRpcWrapper.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;List.h&gt;<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlValue::PushContent(BString* string)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;value&gt;&lt;" &lt;&lt; boxType &lt;&lt; "&gt;";<br><span class="linehead"> </span>	*string &lt;&lt; fValue;<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;/" &lt;&lt; boxType &lt;&lt; "&gt;&lt;/value&gt;";<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlValue::XmlValue(BString string, BString aBoxType = "string")<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	fValue(string),<br><span class="linehead"> </span>	boxType(aBoxType)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlValue::XmlValue(int integer, BString aBoxType = "i4")<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	boxType(aBoxType)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fValue &lt;&lt; integer;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlValue::XmlValue(double doubleVal, BString aBoxType = "string")<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	boxType(aBoxType)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fValue &lt;&lt; doubleVal;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlArray::PushContent(BString* string)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;array&gt;&lt;data&gt;";<br><span class="linehead"> </span>	for (int i = 0; i &lt; Items(); i++)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		ItemAt(i)-&gt;PushContent(string);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;/data&gt;&lt;/array&gt;";<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlArray::XmlArray()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fList = new BObjectList&lt;BaseXmlValue&gt;();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlArray::AddItem(BaseXmlValue* xmlValue)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fList-&gt;AddItem(xmlValue);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>XmlArray::Items()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fList-&gt;CountItems();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BaseXmlValue<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlArray::ItemAt(int32 itemLocation)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fList-&gt;ItemAt(itemLocation);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlNameValuePair::XmlNameValuePair(BString name, BaseXmlValue* value)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	fName(name),<br><span class="linehead"> </span>	fValue(value)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlNameValuePair::XmlNameValuePair(BString name, BString value)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	fName(name),<br><span class="linehead"> </span>	fValue(new XmlValue(value))<br><span class="linehead"> </span>{<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlNameValuePair::PushContent(BString* string)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;value&gt;&lt;member&gt;";<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;name&gt;" &lt;&lt; fName &lt;&lt; "&lt;/name&gt;";<br><span class="linehead"> </span>	fValue-&gt;PushContent(string);<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;/member&gt;&lt;/value&gt;";<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlStruct::PushContent(BString* string)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;struct&gt;";<br><span class="linehead"> </span>	for (int32 i = 0; i &lt; Items(); i++)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		ItemAt(i)-&gt;PushContent(string);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	*string &lt;&lt; "&lt;/struct&gt;";<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlStruct::XmlStruct()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fList = new BObjectList&lt;XmlNameValuePair&gt;();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlStruct::AddItem(XmlNameValuePair* pair)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fList-&gt;AddItem(pair);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>XmlStruct::Items()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fList-&gt;CountItems();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlNameValuePair<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlStruct::ItemAt(int32 itemIndex)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fList-&gt;ItemAt(itemIndex);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>XmlRpcRequest::XmlRpcRequest()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fXmlValues = new BObjectList&lt;BaseXmlValue&gt;();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlRpcRequest::AddItem(BaseXmlValue* xmlValue)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fXmlValues-&gt;AddItem(xmlValue);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BString<br><span class="linehead"> </span>XmlRpcRequest::GetData()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString resultString;<br><span class="linehead"> </span>	resultString &lt;&lt; "&lt;?xml version=\"1.0\"?&gt;\n";<br><span class="linehead"> </span>	resultString &lt;&lt; "&lt;methodCall&gt;";<br><span class="linehead"> </span>	resultString &lt;&lt; "&lt;methodName&gt;" &lt;&lt; fMethodName &lt;&lt; "&lt;/methodName&gt;";<br><span class="linehead"> </span>	resultString &lt;&lt; "&lt;params&gt;";<br><span class="linehead"> </span>	for (int i = 0; i &lt; Items(); i++) {<br><span class="linehead"> </span>		resultString &lt;&lt; "&lt;param&gt;";<br><span class="linehead"> </span>		ItemAt(i)-&gt;PushContent(&amp;resultString);<br><span class="linehead"> </span>		resultString &lt;&lt; "&lt;/param&gt;";<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	resultString &lt;&lt; "&lt;/params&gt;";<br><span class="linehead"> </span>	resultString &lt;&lt; "&lt;/methodCall&gt;";<br><span class="linehead"> </span>	return resultString;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>const char<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlRpcRequest::MethodName()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fMethodName.String();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>XmlRpcRequest::SetMethodName(const char* name)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fMethodName = name;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>XmlRpcRequest::Items()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fXmlValues-&gt;CountItems();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BaseXmlValue<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>XmlRpcRequest::ItemAt(int32 itemIndex)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fXmlValues-&gt;ItemAt(itemIndex);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePlugins/WordpressPlugin/XmlRpcWrapper.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span>#ifndef XML_RPC_WRAPPER_H<br><span class="linehead"> </span>#define XML_RPC_WRAPPER_H<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span>#include &lt;ObjectList.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>class BaseXmlValue<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	virtual void					PushContent(BString* string) {}<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>class XmlValue : public BaseXmlValue<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	void							PushContent(BString* string);<br><span class="linehead"> </span>									XmlValue(BString string, BString aBoxType = "string");<br><span class="linehead"> </span>									XmlValue(int fAs, BString aBoxType = "i4");<br><span class="linehead"> </span>									XmlValue(double fDs, BString aBoxType = "string");<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BString							fValue;<br><span class="linehead"> </span>	BString							boxType;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>class XmlArray : public BaseXmlValue<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	void							PushContent(BString* string);<br><span class="linehead"> </span>									XmlArray();<br><span class="linehead"> </span>	void							AddItem(BaseXmlValue* xmlValue);<br><span class="linehead"> </span>	int32							Items();<br><span class="linehead"> </span>	BaseXmlValue*					ItemAt(int32 itemLocation);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BObjectList&lt;BaseXmlValue&gt;*		fList;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>class XmlNameValuePair : public BaseXmlValue<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>									XmlNameValuePair() {}<br><span class="linehead"> </span>									XmlNameValuePair(BString name,<br><span class="linehead"> </span>										BaseXmlValue* value);<br><span class="linehead"> </span>									XmlNameValuePair(BString name,<br><span class="linehead"> </span>										BString value);<br><span class="linehead"> </span>	void							PushContent(BString* string);<br><span class="linehead"> </span>	BString							Name();<br><span class="linehead"> </span>	BString							Value();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BString 						fName;<br><span class="linehead"> </span>	BaseXmlValue*					fValue;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>class XmlStruct : public BaseXmlValue<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	void							PushContent(BString* string);<br><span class="linehead"> </span>									XmlStruct();<br><span class="linehead"> </span>	void 							AddItem(XmlNameValuePair* pair);<br><span class="linehead"> </span>	void							AddItem(BString name, BString value);<br><span class="linehead"> </span>	int32							Items();<br><span class="linehead"> </span>	XmlNameValuePair*				ItemAt(int32 i);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BObjectList&lt;XmlNameValuePair&gt;*	fList;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>class XmlRpcRequest<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>									XmlRpcRequest();<br><span class="linehead"> </span>	void							AddItem(BaseXmlValue* val);<br><span class="linehead"> </span>	BString							GetData();<br><span class="linehead"> </span>	const char*						MethodName();<br><span class="linehead"> </span>	void							SetMethodName(const char* name);<br><span class="linehead"> </span>	int32							Items();<br><span class="linehead"> </span>	BaseXmlValue*					ItemAt(int32 itemIndex);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BString							fMethodName;<br><span class="linehead"> </span>	BObjectList&lt;BaseXmlValue&gt;*		fXmlValues;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePostEditor/BlogPositivePostEditorView.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePostEditorView.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Catalog.h&gt;<br><span class="linehead"> </span>#include &lt;TextView.h&gt;<br><span class="linehead"> </span>#include &lt;MenuBar.h&gt;<br><span class="linehead"> </span>#include &lt;Menu.h&gt;<br><span class="linehead"> </span>#include &lt;MenuItem.h&gt;<br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayout.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayoutBuilder.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePostEditorView.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;TextView.h&gt;<br><span class="linehead"> </span>#include &lt;MenuBar.h&gt;<br><span class="linehead"> </span>#include &lt;Menu.h&gt;<br><span class="linehead"> </span>#include &lt;MenuItem.h&gt;<br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayout.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayoutBuilder.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePost.h"<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositiveBlog.h"<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#undef B_TRANSLATION_CONTEXT<br><span class="linehead"> </span>#define B_TRANSLATION_CONTEXT "Post Editor View"<br><span class="linehead"> </span><br><span class="linehead"> </span>const uint32 kPostEditorSavePost = 'PESP';<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePostEditorView::BlogPositivePostEditorView(const char* name,<br><span class="linehead"> </span>	BlogPositivePost* post)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BView(name, 0),<br><span class="linehead"> </span>	fPost(post)<br><span class="linehead"> </span>{<br><span class="linehead"> </span><br><span class="linehead"> </span>	fTextView = new BTextView("TextView");<br><span class="linehead"> </span>	fTextView-&gt;SetText(post-&gt;Page());<br><span class="linehead"> </span><br><span class="linehead"> </span>	BMenuBar* menuBar = new BMenuBar("MenuBar");<br><span class="linehead"> </span><br><span class="linehead"> </span>	fMenuItem = new BMenuItem(B_TRANSLATE("Save"),<br><span class="linehead"> </span>		new BMessage(kPostEditorSavePost));<br><span class="linehead"> </span><br><span class="linehead"> </span>	menuBar-&gt;AddItem(fMenuItem);<br><span class="linehead"> </span><br><span class="linehead"> </span>	SetLayout(new BGroupLayout(B_VERTICAL, 0));<br><span class="linehead"> </span>	AddChild(menuBar);<br><span class="linehead"> </span>	AddChild(fTextView);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePostEditorView::AttachedToWindow()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fMenuItem-&gt;SetTarget(this);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePostEditorView::Save()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fPost-&gt;SetPage(fTextView-&gt;Text());<br><span class="linehead"> </span>	fPost-&gt;Blog()-&gt;Plugin()-&gt;SavePost(fPost);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePostEditorView::MessageReceived(BMessage* message)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	switch (message-&gt;what)<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		case kPostEditorSavePost:<br><span class="linehead"> </span>			Save();<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		default:<br><span class="linehead"> </span>			BView::MessageReceived(message);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePostEditor/BlogPositivePostEditorView.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_POST_EDITOR_VIEW_H<br><span class="linehead"> </span>#define BP_POST_EDITOR_VIEW_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;View.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositivePost;<br><span class="linehead"> </span>class BMenuItem;<br><span class="linehead"> </span>class BMessage;<br><span class="linehead"> </span>class BTextView;<br><span class="linehead"> </span>class BlogPositivePostEditorView : public BView<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>						BlogPositivePostEditorView(const char* name,<br><span class="linehead"> </span>							BlogPositivePost* post);<br><span class="linehead"> </span>	void 				AttachedToWindow();<br><span class="linehead"> </span>	void 				MessageReceived(BMessage* aMessage);<br><span class="linehead"> </span>	void 				Save();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BMenuItem*			fMenuItem;<br><span class="linehead"> </span>	BTextView*			fTextView;<br><span class="linehead"> </span>	BlogPositivePost*	fPost;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePostEditor/BlogPositivePostEditorWindow.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePostEditorWindow.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Catalog.h&gt;<br><span class="linehead"> </span>#include &lt;Rect.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayout.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayoutBuilder.h&gt;<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePost.h"<br><span class="linehead"> </span>#include "BlogPositivePostEditorView.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#undef B_TRANSLATION_CONTEXT<br><span class="linehead"> </span>#define B_TRANSLATION_CONTEXT "Post Editor Window"<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePostEditorWindow::BlogPositivePostEditorWindow(<br><span class="linehead"> </span>	BlogPositivePost* aPost, BRect aRect)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BWindow(aRect, "", B_TITLED_WINDOW, B_AUTO_UPDATE_SIZE_LIMITS)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fView = new BlogPositivePostEditorView("EditorView", aPost);<br><span class="linehead"> </span><br><span class="linehead"> </span>	BString titleString;<br><span class="linehead"> </span>	titleString.SetToFormat(B_TRANSLATE("Post: %s"), aPost-&gt;Name());<br><span class="linehead"> </span>	SetTitle(titleString.String());<br><span class="linehead"> </span><br><span class="linehead"> </span>	SetLayout(new BGroupLayout(B_VERTICAL));<br><span class="linehead"> </span>	AddChild(<br><span class="linehead"> </span>		BGroupLayoutBuilder(B_VERTICAL, 0)<br><span class="linehead"> </span>		.Add(fView));<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePostEditor/BlogPositivePostEditorWindow.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_POST_EDITOR_WINDOW_H<br><span class="linehead"> </span>#define BP_POST_EDITOR_WINDOW_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Window.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositivePost;<br><span class="linehead"> </span>class BlogPositivePostEditorView;<br><span class="linehead"> </span>class BRect;<br><span class="linehead"> </span>class BlogPositivePostEditorWindow : public BWindow<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>								BlogPositivePostEditorWindow(<br><span class="linehead"> </span>									BlogPositivePost* aPost, BRect aRect);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositivePostEditorView*	fView;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePostList/BlogPositivePostListView.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br>  89<br>  90<br>  91<br>  92<br>  93<br>  94<br>  95<br>  96<br>  97<br>  98<br>  99<br> 100<br> 101<br> 102<br> 103<br> 104<br> 105<br> 106<br> 107<br> 108<br> 109<br> 110<br> 111<br> 112<br> 113<br> 114<br> 115<br> 116<br> 117<br> 118<br> 119<br> 120<br> 121<br> 122<br> 123<br> 124<br> 125<br> 126<br> 127<br> 128<br> 129<br> 130<br> 131<br> 132<br> 133<br> 134<br> 135<br> 136<br> 137<br> 138<br> 139<br> 140<br> 141<br> 142<br> 143<br> 144<br> 145<br> 146<br> 147<br> 148<br> 149<br> 150<br> 151<br> 152<br> 153<br> 154<br> 155<br> 156<br> 157<br> 158<br> 159<br> 160<br> 161<br> 162<br> 163<br> 164<br> 165<br> 166<br> 167<br> 168<br> 169<br> 170<br> 171<br> 172<br> 173<br> 174<br> 175<br> 176<br> 177<br> 178<br> 179<br> 180<br> 181<br> 182<br> 183<br> 184<br> 185<br> 186<br> 187<br> 188<br> 189<br> 190<br> 191<br> 192<br> 193<br> 194<br> 195<br> 196<br> 197<br> 198<br> 199<br> 200<br> 201<br> 202<br> 203<br> 204<br> 205<br> 206<br> 207<br> 208<br> 209<br> 210<br> 211<br> 212<br> 213<br> 214<br> 215<br> 216<br> 217<br> 218<br> 219<br> 220<br> 221<br> 222<br> 223<br> 224<br> 225<br> 226<br> 227<br> 228<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>* Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span>* All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span>*<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePostListView.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Catalog.h&gt;<br><span class="linehead"> </span>#include &lt;OS.h&gt;<br><span class="linehead"> </span>#include &lt;StringItem.h&gt;<br><span class="linehead"> </span>#include &lt;ListView.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositiveBlog.h"<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePost.h"<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePlugin.h"<br><span class="linehead"> </span>#include "../BlogPositivePostEdito<span class="highlight tooltip">r/B<em>Missing space after operator</em></span>logPositivePostEditorWindow.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;GroupLayout.h&gt;<br><span class="linehead"> </span>#include &lt;LayoutBuilder.h&gt;<br><span class="linehead"> </span>#include &lt;ScrollView.h&gt;<br><span class="linehead"> </span>#include &lt;Menu.h&gt;<br><span class="linehead"> </span>#include &lt;MenuBar.h&gt;<br><span class="linehead"> </span>#include &lt;Window.h&gt;<br><span class="linehead"> </span>#include &lt;Rect.h&gt;<br><span class="linehead"> </span>#include &lt;MenuItem.h&gt;<br><span class="linehead"> </span>#include &lt;TextView.h&gt;<br><span class="linehead"> </span>#include &lt;Message.h&gt;<br><span class="linehead"> </span>#include &lt;TextControl.h&gt;<br><span class="linehead"> </span>#include &lt;stdio.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#undef B_TRANSLATION_CONTEXT<br><span class="linehead"> </span>#define B_TRANSLATION_CONTEXT "Post List View"<br><span class="linehead"> </span><br><span class="linehead"> </span>const uint32 kPostListViewOpenPost = 'PLOP';<br><span class="linehead"> </span>const uint32 kPostListViewRemovePost = 'PLRP';<br><span class="linehead"> </span>const uint32 kPostListViewNewPost = 'PLNP';<br><span class="linehead"> </span><br><span class="linehead"> </span>class PostItem : public BStringItem {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>								PostItem(BlogPositivePost* post);<br><span class="linehead"> </span>	BlogPositivePost*			Post();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositivePost*			fPost;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>PostItem::PostItem(BlogPositivePost* post)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BStringItem(post-&gt;Name()),<br><span class="linehead"> </span>	fPost(post)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePost<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>PostItem::Post()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return fPost;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>struct PluginAndWindowThing {<br><span class="linehead"> </span>	BlogPositivePostListView*	window;<br><span class="linehead"> </span>	BlogPositivePlugin*			plugin;<br><span class="linehead"> </span>	BlogPositiveBlog*			blog;<br><span class="linehead"> </span>	BListView*					listView;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>int32<br><span class="linehead"> </span>BlogPositivePostListView::loadList(void* pointer)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	PluginAndWindowThing* thing = static_cast&lt;PluginAndWindowThing*&gt;(pointer);<br><span class="linehead"> </span>	if (thing-&gt;listView-&gt;LockLooper())<br><span class="linehead"> </span>	{<br><span class="linehead"> </span>		thing-&gt;listView-&gt;MakeEmpty();<br><span class="linehead"> </span>		thing-&gt;listView-&gt;UnlockLooper();<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	PostList* list = thing-&gt;plugin-&gt;GetBlogPosts(thing-&gt;blog);<br><span class="linehead"> </span>	if (thing-&gt;listView-&gt;LockLooper()) {<br><span class="linehead"> </span>		for (int i = 0; i &lt; list-&gt;CountItems(); i++) {<br><span class="linehead"> </span>			BlogPositivePost* post = list-&gt;ItemAt(i);<br><span class="linehead"> </span>			thing-&gt;listView-&gt;AddItem(new PostItem(post));<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		thing-&gt;listView-&gt;UnlockLooper();<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePostListView::BlogPositivePostListView(const char* name,<br><span class="linehead"> </span>	BlogPositiveBlog* blog)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BView(name, 0)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fBlog = blog;<br><span class="linehead"> </span><br><span class="linehead"> </span>	fListView = new BListView("ListView");<br><span class="linehead"> </span>	fListView-&gt;SetInvocationMessage(new BMessage(kPostListViewOpenPost));<br><span class="linehead"> </span><br><span class="linehead"> </span>	BMenuBar* menu = new BMenuBar("MenuView");<br><span class="linehead"> </span>	fAddPost = new BMenuItem(B_TRANSLATE("New Post"),<br><span class="linehead"> </span>		new BMessage(kPostListViewNewPost));<br><span class="linehead"> </span>	fRemovePost = new BMenuItem(B_TRANSLATE("Remove Post"),<br><span class="linehead"> </span>		new BMessage(kPostListViewRemovePost));<br><span class="linehead"> </span>	menu-&gt;AddItem(fAddPost);<br><span class="linehead"> </span>	menu-&gt;AddItem(fRemovePost);<br><span class="linehead"> </span><br><span class="linehead"> </span>	Reload();<br><span class="linehead"> </span><br><span class="linehead"> </span>	SetLayout(new BGroupLayout(B_VERTICAL, 0));<br><span class="linehead"> </span>	AddChild(menu);<br><span class="linehead"> </span>	AddChild(fListView);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePostListView::Reload()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	PluginAndWindowThing* thing = new PluginAndWindowThing();<br><span class="linehead"> </span>	thing-&gt;window = this;<br><span class="linehead"> </span>	thing-&gt;blog = fBlog;<br><span class="linehead"> </span>	thing-&gt;listView = fListView;<br><span class="linehead"> </span>	thing-&gt;plugin = fBlog-&gt;Plugin();<br><span class="linehead"> </span><br><span class="linehead"> </span>	thread_id readThread = spawn_thread(BlogPositivePostListView::loadList,<br><span class="linehead"> </span>		"load_posts", B_NORMAL_PRIORITY, thing);<br><span class="linehead"> </span>	resume_thread(readThread);<br><span class="linehead"> </span><br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>class NewPostWindow : public BWindow<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>								NewPostWindow(BlogPositivePostListView* view);<br><span class="linehead"> </span>	void						MessageReceived(BMessage* aMessage);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositivePostListView*	fView;<br><span class="linehead"> </span>	BTextControl*				fTextView;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>NewPostWindow::NewPostWindow(BlogPositivePostListView* view)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BWindow(BRect(100, 100, 500, 600), "New Post",<br><span class="linehead"> </span>		B_TITLED_WINDOW, B_AUTO_UPDATE_SIZE_LIMITS)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fTextView = new BTextControl("TextView", "Title: ",<br><span class="linehead"> </span>		"", new BMessage('BPFN'));<br><span class="linehead"> </span>	SetLayout(new BGroupLayout(B_VERTICAL));<br><span class="linehead"> </span>	AddChild(BLayoutBuilder::Group&lt;&gt;(B_VERTICAL, 0).Add(fTextView));<br><span class="linehead"> </span>	fView = view;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>NewPostWindow::MessageReceived(BMessage* aMessage)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	switch (aMessage-&gt;what) {<br><span class="linehead"> </span>		case 'BPFN':<br><span class="linehead"> </span>			aMessage-&gt;SetString("postTitle", fTextView-&gt;Text());<br><span class="linehead"> </span>			BMessenger(fView).SendMessage(aMessage);<br><span class="linehead"> </span>			Close();<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		default:<br><span class="linehead"> </span>			BWindow::MessageReceived(aMessage);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePostListView::MessageReceived(BMessage* aMessage)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	switch (aMessage-&gt;what) {<br><span class="linehead"> </span>		case 'BPFN': {<br><span class="linehead"> </span>			BlogPositivePost* p = fBlog-&gt;Plugin()-&gt;CreateNewPost(fBlog,<br><span class="linehead"> </span>				aMessage-&gt;GetString("postTitle", ""));<br><span class="linehead"> </span>			if (p != NULL)<br><span class="linehead"> </span>			{<br><span class="linehead"> </span>				Reload();<br><span class="linehead"> </span>				BlogPositivePostEditorWindow* window<br><span class="linehead"> </span>					= new BlogPositivePostEditorWindow(p,<br><span class="linehead"> </span>						BRect(100, 100, 500, 600));<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		case kPostListViewOpenPost:<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			if (aMessage-&gt;GetInt32("index", -1) != -1) {<br><span class="linehead"> </span>				BlogPositivePost* post = static_cast&lt;PostItem*&gt;(<br><span class="linehead"> </span>					fListView-&gt;ItemAt(aMessage-&gt;GetInt32("index", -1)))-&gt;Post();<br><span class="linehead"> </span>				BlogPositivePostEditorWindow* window<br><span class="linehead"> </span>					= new BlogPositivePostEditorWindow(post,<br><span class="linehead"> </span>						BRect(100, 100, 500, 600));<br><span class="linehead"> </span>				window-&gt;Show();<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		case kPostListViewNewPost:<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			(new NewPostWindow(this))-&gt;Show();<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		case kPostListViewRemovePost:<br><span class="linehead"> </span>		{<br><span class="linehead"> </span>			if (fListView-&gt;CurrentSelection() != -1) {<br><span class="linehead"> </span>				BlogPositivePost* post = static_cast&lt;PostItem*&gt;(<br><span class="linehead"> </span>					fListView-&gt;ItemAt(fListView-&gt;CurrentSelection()))-&gt;Post();<br><span class="linehead"> </span>				post-&gt;Blog()-&gt;Plugin()-&gt;RemovePost(post);<br><span class="linehead"> </span>				Reload();<br><span class="linehead"> </span>			}<br><span class="linehead"> </span>			break;<br><span class="linehead"> </span>		}<br><span class="linehead"> </span>		default:<br><span class="linehead"> </span>			BView::MessageReceived(aMessage);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>BlogPositivePostListView::AttachedToWindow()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	fAddPost-&gt;SetTarget(this);<br><span class="linehead"> </span>	fListView-&gt;SetTarget(this);<br><span class="linehead"> </span>	fRemovePost-&gt;SetTarget(this);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePostList/BlogPositivePostListView.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_POST_LIST_VIEW_H<br><span class="linehead"> </span>#define BP_POST_LIST_VIEW_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;View.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BMessage;<br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BMenuItem;<br><span class="linehead"> </span>class BListView;<br><span class="linehead"> </span>class BlogPositivePostListView : public BView<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>						BlogPositivePostListView(const char* name,<br><span class="linehead"> </span>							BlogPositiveBlog* blog);<br><span class="linehead"> </span>			void		AttachedToWindow();<br><span class="linehead"> </span>			void		MessageReceived(BMessage* aMessage);<br><span class="linehead"> </span>	static	int32		loadList(void* t);<br><span class="linehead"> </span>	void				Reload();<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositiveBlog*	fBlog;<br><span class="linehead"> </span>	BMenuItem*			fAddPost;<br><span class="linehead"> </span>	BMenuItem*			fRemovePost;<br><span class="linehead"> </span>	BListView*			fListView;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePostList/BlogPositivePostListWindow.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "BlogPositivePostListWindow.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Catalog.h&gt;<br><span class="linehead"> </span>#include &lt;Rect.h&gt;<br><span class="linehead"> </span>#include &lt;GroupLayout.h&gt;<br><span class="linehead"> </span>#include &lt;LayoutBuilder.h&gt;<br><span class="linehead"> </span>#include &lt;String.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositiveBlog.h"<br><span class="linehead"> </span>#include "BlogPositivePostListView.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#undef B_TRANSLATION_CONTEXT<br><span class="linehead"> </span>#define B_TRANSLATION_CONTEXT "Post List Window"<br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePostListWindow::BlogPositivePostListWindow(<br><span class="linehead"> </span>	BlogPositiveBlog* blog, BRect rect)<br><span class="linehead"> </span>	:<br><span class="linehead"> </span>	BWindow(rect, "", B_TITLED_WINDOW, B_AUTO_UPDATE_SIZE_LIMITS)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BString title;<br><span class="linehead"> </span>	title.SetToFormat(B_TRANSLATE("Blog: %s"), blog-&gt;Name());<br><span class="linehead"> </span>	SetTitle(title.String());<br><span class="linehead"> </span><br><span class="linehead"> </span>	fListView = new BlogPositivePostListView("ListView", blog);<br><span class="linehead"> </span><br><span class="linehead"> </span>	SetLayout(new BGroupLayout(B_VERTICAL));<br><span class="linehead"> </span>	AddChild(<br><span class="linehead"> </span>		BLayoutBuilder::Group&lt;&gt;(B_VERTICAL, 0)<br><span class="linehead"> </span>			.Add(fListView));<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./BlogPositivePostList/BlogPositivePostListWindow.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_POST_LIST_WINDOW_H<br><span class="linehead"> </span>#define BP_POST_LIST_WINDOW_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Window.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BRect;<br><span class="linehead"> </span>class BlogPositivePostListView;<br><span class="linehead"> </span>class BlogPositivePostListWindow : public BWindow<br><span class="linehead"> </span>{<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>								BlogPositivePostListWindow(BlogPositiveBlog* blog,<br><span class="linehead"> </span>									BRect rect);<br><span class="linehead"> </span>private:<br><span class="linehead"> </span>	BlogPositivePostListView*	fListView;<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./Example/ExamplePlugin.cpp</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br>  28<br>  29<br>  30<br>  31<br>  32<br>  33<br>  34<br>  35<br>  36<br>  37<br>  38<br>  39<br>  40<br>  41<br>  42<br>  43<br>  44<br>  45<br>  46<br>  47<br>  48<br>  49<br>  50<br>  51<br>  52<br>  53<br>  54<br>  55<br>  56<br>  57<br>  58<br>  59<br>  60<br>  61<br>  62<br>  63<br>  64<br>  65<br>  66<br>  67<br>  68<br>  69<br>  70<br>  71<br>  72<br>  73<br>  74<br>  75<br>  76<br>  77<br>  78<br>  79<br>  80<br>  81<br>  82<br>  83<br>  84<br>  85<br>  86<br>  87<br>  88<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "ExamplePlugin.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>#include &lt;Path.h&gt;<br><span class="linehead"> </span>#include &lt;Entry.h&gt;<br><span class="linehead"> </span>#include &lt;Directory.h&gt;<br><span class="linehead"> </span>#include &lt;List.h&gt;<br><span class="linehead"> </span>#include &lt;malloc.h&gt;<br><span class="linehead"> </span>#include &lt;File.h&gt;<br><span class="linehead"> </span>#include &lt;stdio.h&gt;<br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositiveBlog.h"<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePost.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>bool<br><span class="linehead"> </span>ExamplePlugin::Supports(int32 Code) {<br><span class="linehead"> </span>	return Code == 'BACN';<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>uint32<br><span class="linehead"> </span>ExamplePlugin::MainHandler()<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	return 'BACN';<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>PostList<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>ExamplePlugin::GetBlogPosts(BlogPositiveBlog* blog) {<br><span class="linehead"> </span>	PostList* list = new PostList();<br><span class="linehead"> </span>	BDirectory Dir(blog-&gt;Authentication());<br><span class="linehead"> </span>	BEntry entry;<br><span class="linehead"> </span><br><span class="linehead"> </span>	while (Dir.GetNextEntry(&amp;entry) == B_OK) {<br><span class="linehead"> </span>		char name[B_FILE_NAME_LENGTH];<br><span class="linehead"> </span>		entry.GetName(name);<br><span class="linehead"> </span>		BFile file(&amp;entry, B_READ_ONLY);<br><span class="linehead"> </span>		off_t size;<br><span class="linehead"> </span>		file.GetSize(&amp;size);<br><span class="linehead"> </span>		char* pointer = new char[size];<br><span class="linehead"> </span>		file.Read(reinterpret_cast&lt;void*&gt;(pointer), size);<br><span class="linehead"> </span>		BlogPositivePost* post = new BlogPositivePost(blog);<br><span class="linehead"> </span>		post-&gt;SetName(name);<br><span class="linehead"> </span>		post-&gt;SetPage(reinterpret_cast&lt;const char*&gt;(pointer));<br><span class="linehead"> </span>		list-&gt;AddItem(post);<br><span class="linehead"> </span>	}<br><span class="linehead"> </span>	return list;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>BlogPositivePost<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span>ExamplePlugin::CreateNewPost(BlogPositiveBlog* blog, const char* name)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BPath path(blog-&gt;Authentication());<br><span class="linehead"> </span>	path.Append(name);<br><span class="linehead"> </span>	BFile file(path.Path(), B_WRITE_ONLY | B_ERASE_FILE | B_CREATE_FILE);<br><span class="linehead"> </span>	char a = '\0';<br><span class="linehead"> </span>	file.Write(static_cast&lt;void*&gt;(&amp;a), sizeof(a));<br><span class="linehead"> </span>	BlogPositivePost* p = new BlogPositivePost(blog);<br><span class="linehead"> </span>	p-&gt;SetName(name);<br><span class="linehead"> </span>	p-&gt;SetPage("");<br><span class="linehead"> </span>	return p;<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>ExamplePlugin::RemovePost(BlogPositivePost* post)<br><span class="linehead"> </span>{<br><span class="linehead"> </span>	BPath path(post-&gt;Blog()-&gt;Authentication());<br><span class="linehead"> </span>	path.Append(post-&gt;Name());<br><span class="linehead"> </span>	BEntry entr(path.Path());<br><span class="linehead"> </span>	entr.Remove();<br><span class="linehead"> </span>}<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>void<br><span class="linehead"> </span>ExamplePlugin::SavePost(BlogPositivePost* post) {<br><span class="linehead"> </span>	BPath path(post-&gt;Blog()-&gt;Authentication());<br><span class="linehead"> </span>	path.Append(post-&gt;Name());<br><span class="linehead"> </span>	BFile file(path.Path(), B_WRITE_ONLY | B_ERASE_FILE);<br><span class="linehead"> </span>	char* page = const_cast&lt;char*&gt;(post-&gt;Page());<br><span class="linehead"> </span>	file.Write(reinterpret_cast&lt;void*&gt;(page), post-&gt;PageSize()+1);<br><span class="linehead"> </span>}<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table><hr/><p><b>./Example/ExamplePlugin.h</b></p><table><tr><td><pre class="code"><span class="linenumber">   1<br>   2<br>   3<br>   4<br>   5<br>   6<br>   7<br>   8<br>   9<br>  10<br>  11<br>  12<br>  13<br>  14<br>  15<br>  16<br>  17<br>  18<br>  19<br>  20<br>  21<br>  22<br>  23<br>  24<br>  25<br>  26<br>  27<br></span></pre></td><td><pre class="code"><span class="linehead"> </span>/<span class="highlight tooltip">*<em>Operator at line end</em></span><br><span class="linehead"> </span> * Copyright 2013 Puck Meerburg, puck@puckipedia.nl<br><span class="linehead"> </span> * All rights reserved. Distributed under the terms of the MIT License.<br><span class="linehead"> </span> *<span class="highlight tooltip">/<em>Operator at line end</em></span><br><span class="linehead"> </span>#ifndef BP_EXAMPLE_PLUGIN_H<br><span class="linehead"> </span>#define BP_EXAMPLE_PLUGIN_H<br><span class="linehead"> </span><br><span class="linehead"> </span><br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePlugin.h"<br><span class="linehead"> </span>#include "../AP<span class="highlight tooltip">I/B<em>Missing space after operator</em></span>logPositivePost.h"<br><span class="linehead"> </span><br><span class="linehead"> </span>class BList;<br><span class="linehead"> </span>class BlogPositiveBlog;<br><span class="linehead"> </span>class BlogPositivePost;<br><span class="linehead"> </span>class ExamplePlugin : public BlogPositivePlugin {<br><span class="linehead"> </span>public:<br><span class="linehead"> </span>	uint32				Version() {return 0;}<br><span class="linehead"> </span>	uint32				MainHandler();<br><span class="linehead"> </span>	bool				Supports(int32 Code);<br><span class="linehead"> </span>	PostList*			GetBlogPosts(BlogPositiveBlog* blog);<br><span class="linehead"> </span>	void				SavePost(BlogPositivePost* post);<br><span class="linehead"> </span>	BlogPositivePost*	CreateNewPost(BlogPositiveBlog* blog, const char* name);<br><span class="linehead"> </span>	void				RemovePost(BlogPositivePost* post);<br><span class="linehead"> </span>}<span class="highlight tooltip"><em>Lines between functions < 2</em></span>;<br><span class="linehead"> </span><br><span class="linehead"> </span>#endif<br><span class="linehead"> </span><span class="highlight tooltip"></span><br></pre></td></tr></table>
        </pre>
    </body>
    </html>